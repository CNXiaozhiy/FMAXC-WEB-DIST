"use strict";(self["webpackChunkFMAXC_WEB_VUE2"]=self["webpackChunkFMAXC_WEB_VUE2"]||[]).push([[221],{3221:function(t,a,s){s.r(a),s.d(a,{default:function(){return f}});var e=function(){var t=this,a=t._self._c;return a("div",[a("BulletinBoard",{staticClass:"mb-2",staticStyle:{"min-height":"110px"},attrs:{Bulletin:t.$store.state.bulletin.list,interval:"5000",loading:t.$store.state.bulletin.loading}}),a("div",{staticClass:"card mb-2"},[a("div",{staticClass:"card-body"},[a("vs-alert",{scopedSlots:t._u([{key:"title",fn:function(){return[a("h4",{staticClass:"font-weight-bolder"},[t._v("班务日历通（CAC）软件简介")])]},proxy:!0}])},[a("p",[t._v(" 本应用为班务日历通（教学辅助）应用，专为班级教学辅助而设计。切勿用于非法用途。 ")]),a("p",{staticClass:"text-secondary font-weight-bolder mb-0"},[t._v(" 技术简述：终端 Ws 连接至 中心服务器 ，中心服务器提供用户到终端的远程云服务 ")])])],1)]),a("div",{ref:"card",staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h4",{staticClass:"ps-3 font-weight-bolder border-left-primary border-left-width-3 text-nowrap"},[t._v("应用详情 "),a("button",{staticClass:"ms-2 btn btn-primary btn-relief p-2 px-3",on:{click:function(a){return t.refreshData()}}},[a("font-awesome-icon",{attrs:{icon:["fas","arrows-rotate"]}})],1)]),a("hr"),a("table",{staticClass:"table table-bordered"},[a("tbody",[a("tr",[a("td",[a("h5",{staticClass:"m-0"},[t._v(" 应用名称："),a("b",[t._v(t._s(t.data.app_name))])])])]),t._m(0),a("tr",[a("td",[a("h5",{staticClass:"m-0"},[t._v(" App ID： "),a("b",{staticClass:"d-md-inline d-none"},[t._v(" "+t._s(t.data.app_id)+" ")]),a("b",{staticClass:"d-md-none d-inline"},[t._v(" "+t._s(t.data.app_id.substring(0,5)+"...")+" ")]),a("a",{staticClass:"font-weight-bolder fs-5",attrs:{href:"javascript:;"},on:{click:function(a){return t.copy(t.data.app_id)}}},[a("font-awesome-icon",{attrs:{icon:["fas","copy"]}}),t._v(" 复制")],1)])])]),a("tr",[a("td",[a("h5",{staticClass:"m-0"},[t._v(" App Secret： "),a("b",{staticClass:"text-danger d-md-inline d-none"},[t._v(" "+t._s(t.data.app_secret.substring(0,16)+"******"+t.data.app_secret.substring(t.data.app_secret.length-16))+" ")]),a("b",{staticClass:"text-danger d-md-none d-inline"},[t._v(" "+t._s(t.data.app_secret.substring(0,5)+"...")+" ")]),a("a",{staticClass:"font-weight-bolder fs-5",attrs:{href:"javascript:;"},on:{click:function(a){return t.copy(t.data.app_secret)}}},[a("font-awesome-icon",{attrs:{icon:["fas","copy"]}}),t._v(" 复制")],1)])])])])]),[a("vs-alert",{attrs:{success:"","hidden-content":t.hidden},on:{"update:hiddenContent":function(a){t.hidden=a},"update:hidden-content":function(a){t.hidden=a}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 使用帮助 ")]},proxy:!0}])},[a("p",[t._v(" 首先先下载"),a("a",{attrs:{href:"/apps/cac/buy",target:"_blank"}},[t._v("CAC终端软件")]),t._v("，下载完成后打开软件。在软件设置页面配置 AppID 和 AppSecret。即可使用。 ")])])],a("h4",{staticClass:"mt-3 ps-3 font-weight-bolder border-left-primary border-left-width-3 text-nowrap"},[t._v("应用管理")]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg align-self-start px-2 mb-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t._m(1),a("div",{staticClass:"row"},[a("button",{staticClass:"col-auto mb-3 btn btn-success btn-relief p-2 px-4 mx-2",on:{click:function(a){return t.operation("reset","重置应用")}}},[a("font-awesome-icon",{attrs:{icon:["fas","rotate-right"]}}),t._v(" 重置应用")],1),a("button",{staticClass:"col-auto mb-3 btn btn-danger btn-relief p-2 px-4 mx-2",on:{click:function(a){return t.operation("delete","删除应用")}}},[a("font-awesome-icon",{attrs:{icon:["fas","trash"]}}),t._v(" 删除应用")],1)]),a("h4",{staticClass:"mt-3 ps-3 font-weight-bolder border-left-warning border-left-width-3 text-nowrap"},[t._v("修改应用基础信息")]),a("hr"),a("div",[a("div",{staticClass:"d-flex align-items-center mx-2 mb-3"},[a("span",{staticClass:"font-weight-bolder d-md-inline d-none text-nowrap"},[t._v("应用名字：")]),a("vs-input",{attrs:{warn:"",placeholder:"应用名称"},scopedSlots:t._u([t.temp.app_name?null:{key:"message-danger",fn:function(){return[t._v(" 留空则不修改 ")]},proxy:!0}],null,!0),model:{value:t.temp.app_name,callback:function(a){t.$set(t.temp,"app_name",a)},expression:"temp.app_name"}})],1),a("div",{staticClass:"row justify-content-between"},[a("div",{staticClass:"d-flex align-items-center col-auto mx-2 mb-3"},[a("span",{staticClass:"font-weight-bolder d-md-inline d-none text-nowrap"},[t._v("续费类型：")]),a("vs-select",{staticClass:"col-auto",attrs:{placeholder:"自动续费类型",state:"primary"},model:{value:t.temp.auto_renew_type,callback:function(a){t.$set(t.temp,"auto_renew_type",t._n(a))},expression:"temp.auto_renew_type"}},[a("vs-option",{attrs:{label:"连续包月",value:"1"}},[t._v(" 连续包月 ")]),a("vs-option",{attrs:{label:"连续包年",value:"2"}},[t._v(" 连续包年 ")]),a("vs-option",{attrs:{label:"终身",value:"3"}},[t._v(" 终身 ")])],1)],1),a("div",{staticClass:"d-flex align-items-center col-auto mx-2 mb-3"},[a("span",{staticClass:"font-weight-bolder text-nowrap"},[t._v("自动续费：")]),a("vs-switch",{model:{value:t.temp.auto_renew_status,callback:function(a){t.$set(t.temp,"auto_renew_status",a)},expression:"temp.auto_renew_status"}})],1)])]),a("hr"),a("div",[a("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"btn btn-success btn-relief w-100",on:{click:function(a){return t.operation("change_base","修改应用基础设置")}}},[a("font-awesome-icon",{attrs:{icon:["fas","floppy-disk"]}}),t._v(" 修改并保存")],1)])])])]),a("div",{staticClass:"col-lg px-2 mb-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t._m(2),a("div",{staticClass:"row"},[a("button",{staticClass:"col-auto mb-3 btn btn-primary btn-relief p-2 px-4 mx-2"},[a("font-awesome-icon",{attrs:{icon:["fas","camera"]}}),t._v(" 截屏")],1),a("button",{staticClass:"col-auto mb-3 btn btn-info btn-relief p-2 px-4 mx-2"},[a("font-awesome-icon",{attrs:{icon:["fas","rotate-right"]}}),t._v(" 重启")],1),a("button",{staticClass:"col-auto mb-3 btn btn-danger btn-relief p-2 px-4 mx-2"},[a("font-awesome-icon",{attrs:{icon:["fas","stop"]}}),t._v(" 关机")],1),a("button",{staticClass:"col-auto mb-3 btn btn-warning btn-relief p-2 px-4 mx-2"},[a("font-awesome-icon",{attrs:{icon:["fas","lock"]}}),t._v(" 锁定")],1),a("button",{staticClass:"col-auto mb-3 btn btn-success btn-relief p-2 px-4 mx-2"},[a("font-awesome-icon",{attrs:{icon:["fas","unlock"]}}),t._v(" 解锁")],1)]),a("hr"),a("div",{staticClass:"row"},[a("button",{staticClass:"col-auto mb-3 btn btn-primary btn-relief p-2 px-4 mx-2"},[a("font-awesome-icon",{attrs:{icon:["fas","bell"]}}),t._v(" 发送通知 (小)")],1),a("button",{staticClass:"col-auto mb-3 btn btn-primary btn-relief p-2 px-4 mx-2"},[a("font-awesome-icon",{attrs:{icon:["fas","bell"]}}),t._v(" 发送通知 (大)")],1)])])])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg px-2 mb-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t._m(3),a("table",{staticClass:"table table-bordered"},[a("tbody",[a("tr",[a("td",[a("h5",{staticClass:"m-0"},[t._v(" 连接状态："),a("b",{staticClass:"text-danger"},[a("StatusIcon",{attrs:{status:"danger"}}),t._v(" 未连接")],1)])])]),t._m(4)])])])])]),t._m(5)])],2)])],1)},n=[function(){var t=this,a=t._self._c;return a("tr",[a("td",[a("h5",{staticClass:"m-0"},[t._v(" 应用类型："),a("b",[t._v("班务日历通（教学辅助）")])])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("h4",{staticClass:"ps-3 font-weight-bolder border-left-primary border-left-width-3 text-nowrap"},[t._v("应用设置")]),a("hr")])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("h4",{staticClass:"ps-3 font-weight-bolder border-left-primary border-left-width-3 text-nowrap"},[t._v("终端控制")]),a("hr")])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("h4",{staticClass:"text-nowrap font-weight-bolder text-primary"},[t._v("终端状态")]),a("hr")])},function(){var t=this,a=t._self._c;return a("tr",[a("td",[a("h5",{staticClass:"m-0"},[t._v(" 最大连接数："),a("b",[t._v(" 1 / 0 ")])])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-lg px-2 mb-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-title"},[a("h4",{staticClass:"text-nowrap font-weight-bolder text-primary"},[t._v("实时监控")]),a("hr")])])])])}],r=(s(4114),s(1231)),i=s(1862),o=s(2522),c=s.n(o),l={data(){return{hidden:!0,app_id:"",data:{app_id:"",app_secret:""},temp:{auto_renew_status:!0,auto_renew_type:0},firstRefresh:!0}},methods:{async operation(t,a){this.$swal({icon:"warning",title:"操作确认",text:`确认执行 ${a} 操作?`,showCancelButton:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then((async a=>{if(!a.isConfirmed)return!1;const s=this.$vs.loading({target:this.$refs.card,text:"操作中..."});let e=null;"delete"===t?e=await(0,i.U4)(this.app_id):"change_base"===t?e=await(0,i.Yf)(this.app_id,{app_name:this.temp.app_name,auto_renew_status:this.temp.auto_renew_status?1:0,auto_renew_type:parseInt(this.temp.auto_renew_type)}):"reset"===t&&(e={code:0,msg:"暂不支持"}),s.close(),null!==e&&(1!==e.code?this.$swal({icon:"error",title:"操作失败",text:e.msg,confirmButtonText:"返回"}):1===e.code&&this.$swal({icon:"success",title:"操作成功",text:e.msg,confirmButtonText:e.back?"返回":"确定"}).then((()=>{e.back&&this.$router.push({path:e.back})})))}))},async refreshData(){this.firstRefresh;this.firstRefresh=!1;const t=this.$vs.loading({target:this.$refs.card}),a=await(0,i.g7)(this.app_id);if(1!==a.code){if(-1===a.code||403===a.code)return void this.$swal({icon:"error",title:"错误",text:"应用不存在或无权限",confirmButtonText:"返回"}).then((()=>{this.$router.back()}));this.$swal({icon:"error",title:"错误",text:a.msg,confirmButtonText:"返回"}).then((()=>{this.$router.back()}))}this.data=a.data,a.data.auto_renew_status=!!a.data.auto_renew_status,this.temp=c().cloneDeep(a.data),t.close()},copy(t){navigator.clipboard.writeText(t),this.$swal({icon:"success",title:"成功",text:"复制成功",confirmButtonText:"OK"})}},async mounted(){this.app_id=this.$route.params.app_id,this.app_id||this.$swal({icon:"error",title:"错误",text:"错误的跳转",confirmButtonText:"返回"}).then((()=>{this.$router.back()})),this.refreshData()},components:{StatusIcon:r.A}},d=l,u=s(1656),p=(0,u.A)(d,e,n,!1,null,"2ab445ce",null),f=p.exports},1862:function(t,a,s){s.d(a,{JA:function(){return n},P$:function(){return d},U4:function(){return c},Yf:function(){return l},g7:function(){return o},gN:function(){return i},pF:function(){return r}});var e=s(4187);async function n(t){try{const a=await(0,e.A)({method:"post",url:"/product/"+t});return a.data}catch(a){return a.data}}async function r(t,a){try{const s=await(0,e.A)({method:"post",url:"/product/buy/",data:{product_id:t,auto_renew_type:a.auto_renew_type,auto_renew_status:a.auto_renew_status,config:a.config}});return s.data}catch(s){return s.data}}async function i(t){try{const a=await(0,e.A)({method:"post",url:"/product/list/"+t});return a.data}catch(a){return a.data}}async function o(t){try{const a=await(0,e.A)({method:"post",url:"/product/get/app_info/"+t});return a.data}catch(a){return a.data}}async function c(t){try{const a=await(0,e.A)({method:"post",url:"/product/remove/app/"+t});return a.data}catch(a){return a.data}}async function l(t,a){try{const s=await(0,e.A)({method:"post",url:"/product/change/base/app/"+t,data:a});return s.data}catch(s){return s.data}}async function d(t){try{const a=await(0,e.A)({method:"post",url:"/product/download/app/"+t});return a.data}catch(a){return a.data}}}}]);
//# sourceMappingURL=221.cccbb065.js.map