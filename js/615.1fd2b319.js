"use strict";(self["webpackChunkFMAXC_WEB_VUE2"]=self["webpackChunkFMAXC_WEB_VUE2"]||[]).push([[615],{520:function(t,s,a){a.d(s,{A:function(){return c}});var e=function(){var t=this,s=t._self._c;return s("div",[s("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"vBtn btn w-100",class:t.vBtnClass,attrs:{disabled:t.disabled},on:{click:t.startVerify}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24"}},[s("g",{attrs:{fill:"none",fillRule:"evenodd"}},[s("path",{attrs:{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}}),s("path",{attrs:{fill:"currentColor",d:"M11.298 2.195a2 2 0 0 1 1.232-.055l.172.055l7 2.625a2 2 0 0 1 1.291 1.708l.007.165v5.363a9 9 0 0 1-4.709 7.911l-.266.139l-3.354 1.677a1.5 1.5 0 0 1-1.198.062l-.144-.062l-3.354-1.677a9 9 0 0 1-4.97-7.75l-.005-.3V6.693a2 2 0 0 1 1.145-1.808l.153-.065zm4.135 6.434l-4.598 4.598l-1.768-1.768a1 1 0 0 0-1.414 1.415l2.404 2.404a1.1 1.1 0 0 0 1.556 0l5.234-5.235a1 1 0 1 0-1.414-1.414"}})])]),s("span",[t._v(t._s(t.title))])])])},r=[],i={name:"Vaptcha",props:["passCallback"],data(){return{vaptchaObj:{},vBtnClass:"btn-warning",title:"点我进行人机验证",disabled:!1}},mounted(){vaptcha({vid:"669bb37bd3784602950e9629",mode:"invisible",scene:0,area:"auto"}).then((t=>{this.vaptchaObj=t,t.listen("pass",(()=>{const s=t.getServerToken(),a={server:s.server,token:s.token};this.passCallback(a),this.vBtnClass="btn-success",this.title="人机验证通过！",this.disabled=!0}))}))},methods:{startVerify(){if("人机验证模块异常"!==this.title){this.disabled=!0;try{this.vaptchaObj.validate(),setTimeout((()=>{this.disabled=!1}),2e3)}catch(t){this.title="人机验证模块异常",this.vBtnClass="btn-danger"}}},resetVerify(){this.vaptchaObj.reset(),this.vBtnClass="btn-warning",this.title="点我进行人机验证",this.disabled=!1}}},n=i,l=a(1656),o=(0,l.A)(n,e,r,!1,null,"23480491",null),c=o.exports},9615:function(t,s,a){a.r(s),a.d(s,{default:function(){return v}});var e=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"loginPage"}},[s("form",{ref:"loginForm",staticClass:"loginForm p-2",on:{submit:function(t){t.preventDefault()}}},[s("h2",{staticClass:"title"},[t._v("FmaxCloud")]),s("span",{staticClass:"subtitle"},[t._v("欢迎登录Fmaxcloud官网")]),s("vs-input",{staticClass:"mt-3",attrs:{primary:"",placeholder:"请输入您的用户名"},scopedSlots:t._u([{key:"icon",fn:function(){return[s("i",{staticClass:"bx bx-user"})]},proxy:!0},t.form.username?null:{key:"message-danger",fn:function(){return[t._v(" 必填项 ")]},proxy:!0}],null,!0),model:{value:t.form.username,callback:function(s){t.$set(t.form,"username",s)},expression:"form.username"}}),s("vs-input",{staticClass:"mt-3",attrs:{type:"password",visiblePassword:t.hasVisiblePassword,"icon-after":"",danger:"",placeholder:"请输入您的密码"},on:{"click-icon":function(s){t.hasVisiblePassword=!t.hasVisiblePassword}},scopedSlots:t._u([{key:"icon",fn:function(){return[t.hasVisiblePassword?s("i",{staticClass:"bx bx-hide"}):s("i",{staticClass:"bx bx-show-alt"})]},proxy:!0},t.form.password?null:{key:"message-danger",fn:function(){return[t._v(" 必填项 ")]},proxy:!0}],null,!0),model:{value:t.form.password,callback:function(s){t.$set(t.form,"password",s)},expression:"form.password"}}),s("Vaptcha",{ref:"vaptchaVc",staticClass:"mt-3",staticStyle:{"line-height":"normal"},attrs:{passCallback:t.vpass}}),t.form.vaptcha.token?t._e():s("div",{staticClass:"vs-input__message vs-input__message--danger"},[t._v(" 请完成人机验证 ")]),s("vs-checkbox",{staticClass:"mt-3",model:{value:t.form.NologinType,callback:function(s){t.$set(t.form,"NologinType",s)},expression:"form.NologinType"}},[t._v(" 7天内免登录 ")]),s("vs-button",{staticClass:"mt-3",attrs:{size:"large"},on:{click:t.UserLogin}},[t._v(" 登录 ")]),s("hr"),s("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"btn btn-info btn-relief",on:{click:function(s){return t.quickLogin("qq")}}},[t._v(" 使用QQ登录快速登录/注册 ")]),s("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"btn btn-success btn-relief mt-3",on:{click:function(s){return t.quickLogin("wx")}}},[t._v(" 使用微信快速登录/注册 ")]),s("span",{staticClass:"regspan"},[t._v("没有账号？ "),s("router-link",{attrs:{to:"/auth/register"}},[t._v("前往注册")]),t._v(" 或 "),s("router-link",{attrs:{to:"/auth/forgot"}},[t._v("忘记密码？")])],1),t._m(0)],1)])},r=[function(){var t=this,s=t._self._c;return s("span",{staticClass:"retrieve"},[t._v("如果您找不回账号,可以"),s("a",{attrs:{href:"#"}},[t._v("咨询客服")]),t._v("协助找回")])}],i=a(7363),n=(a(2522),a(520)),l={name:"Login",data(){return{form:{username:"",password:"",vaptcha:{server:"",token:""}},hasVisiblePassword:!1}},components:{Vaptcha:n.A},async mounted(){1===await this.$store.state.userData.pullData(this,!1,!0)&&this.$router.replace({name:"rDashboardMain"})},methods:{quickLogin(){},vpass(t){this.form.vaptcha.server=t.server,this.form.vaptcha.token=t.token},UserLogin(){if(!this.form.username||!this.form.password)return void this.$toastx({title:"请填写完整信息",type:"warning"});if(!this.form.vaptcha.server||!this.form.vaptcha.token)return void this.$toastx({title:"请先完成人机验证",type:"warning"});const t=this.$vs.loading({target:this.$refs.loginForm,text:"登录中..."}),s={uname:this.form.username,pwd:this.form.password,verify:{sr:this.form.vaptcha.server,tk:this.form.vaptcha.token}};(0,i.iD)(this,s).then((s=>{console.log(s),s||(this.refreshVaptcha(),t.close())}))},refreshVaptcha(){this.$refs.vaptchaVc.resetVerify(),this.form.vaptcha.server="",this.form.vaptcha.token=""}}},o=l,c=a(1656),h=(0,c.A)(o,e,r,!1,null,"d84a5736",null),v=h.exports}}]);
//# sourceMappingURL=615.1fd2b319.js.map