"use strict";(self["webpackChunkFMAXC_WEB_VUE2"]=self["webpackChunkFMAXC_WEB_VUE2"]||[]).push([[888],{888:function(t,s,i){i.r(s),i.d(s,{default:function(){return o}});var a=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"AccountSettingQQWechat"}},[s("div",{staticClass:"row w-100"},[s("div",{ref:"bindqq",staticClass:"card col-md bind-qq me-3"},[s("div",{staticClass:"card-body"},[t._m(0),s("div",{staticClass:"qq-info"},[s("div",{staticClass:"photo"},[s("vs-avatar",{attrs:{size:"50"}},[s("img",{attrs:{src:t.qqinfo.photo,alt:""}})])],1),s("div",{staticClass:"infos"},[s("span",{staticClass:"qq"},[t._v("QQ: "+t._s(t.qqinfo.qq))]),s("span",{staticClass:"nickname"},[t._v("用户名: "+t._s(t.qqinfo.nickname))])])]),s("hr"),s("div",{staticClass:"auth"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.affirm,expression:"!affirm"}],staticClass:"affirm"},[s("el-input",{attrs:{placeholder:"请输入要绑定的QQ号",disabled:t.get.bind},model:{value:t.bind_qid,callback:function(s){t.bind_qid=s},expression:"bind_qid"}}),s("button",{staticClass:"btn",class:t.get.bind?"btn-danger":"btn-success",attrs:{disabled:"正在拉取"===t.qqinfo.qq},on:{click:t.verifyStart}},[t._v(" "+t._s(t.get.bind?"解除绑定":"开始验证")+" ")])],1),s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.affirm,expression:"affirm"}],staticClass:"bind"},[s("span",{staticClass:"status"},[t._v("绑定状态： "),s("span",{class:t.bind_status_class},[t._v(t._s(t.bind_status))])]),s("span",{staticClass:"help font-weight-bolder"},[t._v(" 请在 "),s("a",{attrs:{target:"_blank",href:"https://qm.qq.com/cgi-bin/qm/qr?k=AeLPHrzg-B7ajsmlx6TYvvhPi1lQK4dV&jump_from=webapi&authKey=01CIqwcseG9Mw8hoA0xmgQUUQKYlsJGaW2xXKpIaFF8FiLOxlvFftdMZ9w3UxK2l"}},[t._v("官方群")]),t._v(" 或 "),s("a",{attrs:{target:"_blank",href:"https://qm.qq.com/cgi-bin/qm/qr?k=4q9Z5bqepCbTEkMNFuO_eNW5RB20taHZ&jump_from=webapi&authKey=dOOlmHwM+bW73BFNmogszo8CxprOkB/0LNcIi9Fl/eiKBObnUB8LyO/gOiaV+Xut"}},[t._v("闲聊群")]),t._v(' 中发送 ".bind-qq" ')])])])],1)])]),t._m(1)])])},n=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-title"},[s("span",{staticClass:"title font-weight-bolder"},[t._v("绑定 QQ")]),s("hr")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"card col-md bind-wechat mt-md-0 mt-3"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-title"},[s("span",{staticClass:"title font-weight-bolder"},[t._v("绑定 微信")]),s("hr")]),s("span",{staticClass:"text-danger text-center"},[t._v("- 暂不支持 -")]),s("hr"),s("button",{staticClass:"btn btn-success w-100",attrs:{disabled:""}},[t._v("开始验证")])])])}],e=i(7363),r=(i(4187),{name:"QQWechat",data(){return{affirm:!1,bind_qid:"",bind_status:"待验证",bind_status_class:"text-danger",qqinfo:{qq:"正在拉取",photo:"",nickname:"正在拉取"},get:{Interval:"",bind:!1},loading_bindqq:null}},computed:{userinfo(){this.$store.state.userData.user.info}},mounted(){this.get.Interval=setInterval(this.refresh,2e3),this.loading_bindqq=this.$vs.loading({target:this.$refs.bindqq})},methods:{async refresh(){await this.$store.state.userData.pullData();const t=this.$store.state.userData.user.info.qid;if(t){clearInterval(this.get.Interval),this.bind_status="已绑定",this.bind_status_class="text-success",this.get.bind=!0,this.get.Interval="";let s=document.createElement("script");s.src="https://users.qzone.qq.com/fcg-bin/cgi_get_portrait.fcg?uins="+t,document.body.append(s),window.portraitCallBack=i=>{const a=i[t][6];this.qqinfo.qq=t,this.qqinfo.photo=`https://q2.qlogo.cn/headimg_dl?dst_uin=${t}&spec=100`,this.qqinfo.nickname=a,s.remove(),window.portraitCallBack=null}}else"正在拉取"===this.qqinfo.qq&&(this.qqinfo.qq="未绑定",this.qqinfo.photo="",this.qqinfo.nickname="未绑定");this.loading_bindqq.close(),this.loading_bindqq=null},async verifyStart(){if(this.get.bind)return void this.$swal({title:"确认解绑 ？",icon:"warning",showCancelButton:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then((t=>{t.isConfirmed&&(0,e.sP)()}));if(!this.bind_qid&&!this.get.bind)return;const t=await(0,e.BU)({qid:this.bind_qid});t&&(this.affirm=!0)},async verifyStatus(){}}}),c=r,l=i(1656),d=(0,l.A)(c,a,n,!1,null,"64c61628",null),o=d.exports}}]);
//# sourceMappingURL=888.13a4f570.js.map