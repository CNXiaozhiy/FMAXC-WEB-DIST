{"version":3,"file":"js/814.1d141699.js","mappings":"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","sources":["webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Login.vue","webpack://FMAXC-WEB-VUE2/src/pages/Auth/Login.vue","webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Login.vue?d3a2","webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Login.vue?7519"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"loginPage\"}},[_c('form',{ref:\"loginForm\",staticClass:\"loginForm p-2\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('h2',{staticClass:\"title\"},[_vm._v(\"FmaxCloud\")]),_c('span',{staticClass:\"subtitle\"},[_vm._v(\"欢迎登录Fmaxcloud官网\")]),_c('vs-input',{staticClass:\"mt-3\",attrs:{\"primary\":\"\",\"placeholder\":\"请输入您的用户名\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('i',{staticClass:\"bx bx-user\"})]},proxy:true},(!_vm.form.username)?{key:\"message-danger\",fn:function(){return [_vm._v(\" 必填项 \")]},proxy:true}:null],null,true),model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('vs-input',{staticClass:\"mt-3\",attrs:{\"type\":\"password\",\"visiblePassword\":_vm.hasVisiblePassword,\"icon-after\":\"\",\"danger\":\"\",\"placeholder\":\"请输入您的密码\"},on:{\"click-icon\":function($event){_vm.hasVisiblePassword = !_vm.hasVisiblePassword}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.hasVisiblePassword)?_c('i',{staticClass:\"bx bx-show-alt\"}):_c('i',{staticClass:\"bx bx-hide\"})]},proxy:true},(!_vm.form.password)?{key:\"message-danger\",fn:function(){return [_vm._v(\" 必填项 \")]},proxy:true}:null],null,true),model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('KgCaptcha',{ref:\"KgCaptchaVc\",staticClass:\"mt-3\",attrs:{\"id\":\"loginCaptcha\",\"handler\":_vm.captchaPass}}),(!_vm.form.token)?_c('div',{staticClass:\"vs-input__message vs-input__message--danger\"},[_vm._v(\"请完成人机验证\")]):_vm._e(),_c('vs-checkbox',{staticClass:\"mt-3\",model:{value:(_vm.form.remember),callback:function ($$v) {_vm.$set(_vm.form, \"remember\", $$v)},expression:\"form.remember\"}},[_vm._v(\" 7天内免登录 \")]),_c('vs-button',{staticClass:\"mt-3\",attrs:{\"size\":\"large\"},on:{\"click\":_vm.UserLogin}},[_vm._v(\" 登录 \")]),_c('hr'),_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"btn btn-info btn-relief\",on:{\"click\":function($event){return _vm.quickLogin('qq')}}},[_vm._v(\"使用QQ登录快速登录/注册\")]),_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"btn btn-success btn-relief mt-3\",on:{\"click\":function($event){return _vm.quickLogin('wx')}}},[_vm._v(\"使用微信快速登录/注册\")]),_c('span',{staticClass:\"regspan\"},[_vm._v(\"没有账号？ \"),_c('router-link',{attrs:{\"to\":\"/auth/register\"}},[_vm._v(\"前往注册\")]),_vm._v(\" 或 \"),_c('router-link',{attrs:{\"to\":\"/auth/forgot\"}},[_vm._v(\"忘记密码？\")])],1),_vm._m(0)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"retrieve\"},[_vm._v(\"如果您找不回账号,可以\"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"咨询客服\")]),_vm._v(\"协助找回\")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"loginPage\">\n    <form @submit.prevent=\"\" class=\"loginForm p-2\" ref=\"loginForm\">\n      <h2 class=\"title\">FmaxCloud</h2>\n      <span class=\"subtitle\">欢迎登录Fmaxcloud官网</span>\n      <vs-input v-model.lazy=\"form.username\" primary placeholder=\"请输入您的用户名\" class=\"mt-3\">\n        <template #icon>\n          <i class=\"bx bx-user\"></i>\n        </template>\n        <template v-if=\"!form.username\" #message-danger> 必填项 </template>\n      </vs-input>\n      <vs-input v-model.lazy=\"form.password\" type=\"password\" :visiblePassword=\"hasVisiblePassword\" @click-icon=\"hasVisiblePassword = !hasVisiblePassword\" icon-after danger placeholder=\"请输入您的密码\" class=\"mt-3\">\n        <template #icon>\n          <!-- <i class=\"bx bx-lock-open-alt\"></i> -->\n          <i v-if=\"!hasVisiblePassword\" class=\"bx bx-show-alt\"></i>\n          <i v-else class=\"bx bx-hide\"></i>\n        </template>\n        <template v-if=\"!form.password\" #message-danger> 必填项 </template>\n      </vs-input>\n\n      <!-- 人机验证模块 -->\n      <!-- <Vaptcha\n        :passCallback=\"vpass\"\n        ref=\"vaptchaVc\"\n        style=\"line-height: normal\"\n        class=\"mt-3\"\n      /> -->\n      <KgCaptcha id=\"loginCaptcha\" class=\"mt-3\" :handler=\"captchaPass\" ref=\"KgCaptchaVc\" />\n\n      <div class=\"vs-input__message vs-input__message--danger\" v-if=\"!form.token\">请完成人机验证</div>\n\n      <vs-checkbox v-model=\"form.remember\" class=\"mt-3\"> 7天内免登录 </vs-checkbox>\n\n      <vs-button @click=\"UserLogin\" size=\"large\" class=\"mt-3\"> 登录 </vs-button>\n      <hr />\n      <button v-wave class=\"btn btn-info btn-relief\" @click=\"quickLogin('qq')\">使用QQ登录快速登录/注册</button>\n      <button v-wave class=\"btn btn-success btn-relief mt-3\" @click=\"quickLogin('wx')\">使用微信快速登录/注册</button>\n      <span class=\"regspan\">没有账号？ <router-link to=\"/auth/register\">前往注册</router-link> 或 <router-link to=\"/auth/forgot\">忘记密码？</router-link></span>\n      <span class=\"retrieve\">如果您找不回账号,可以<a href=\"#\">咨询客服</a>协助找回</span>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { login } from \"../../scripts/auth/\";\nimport _ from \"lodash\";\n// import Vaptcha from \"../../components/Vaptcha.vue\";\nimport KgCaptcha from \"@/components/KgCaptcha.vue\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n        remember: false,\n        // vaptcha: {\n        //   server: \"\",\n        //   token: \"\",\n        // },\n        token: \"\",\n      },\n      hasVisiblePassword: false,\n    };\n  },\n  components: {\n    KgCaptcha,\n  },\n  methods: {\n    quickLogin() {\n      // this.$toastx({\n      //     title: '暂不支持',\n      //     type: 'warning'\n      // })\n    },\n    captchaPass(e, type) {\n      if (type === \"success\") {\n        this.form.token = e.token;\n      }\n    },\n    UserLogin() {\n      if (!this.form.username || !this.form.password) {\n        this.$toastx({\n          title: \"请填写完整信息\",\n          type: \"warning\",\n        });\n        return;\n      }\n      if (!this.form.token) {\n        this.$toastx({\n          title: \"请先完成人机验证\",\n          type: \"warning\",\n        });\n        return;\n      }\n\n      const loading = this.$vs.loading({\n        target: this.$refs.loginForm,\n        text: \"登录中...\",\n      });\n\n      const original = {\n        uname: this.form.username,\n        pwd: this.form.password,\n        remember: this.form.remember,\n        // verify: {\n        //   sr: this.form.vaptcha.server,\n        //   tk: this.form.vaptcha.token,\n        // },\n        verify: {\n          tk: this.form.token,\n        },\n      };\n\n      login(original).then((resp) => {\n        console.log(resp);\n\n        if (!resp) {\n          this.resetCaptcha();\n          loading.close();\n        }\n      });\n    },\n    resetCaptcha() {\n      this.$refs.KgCaptchaVc.reset();\n      this.form.token = \"\";\n    },\n    // refreshVaptcha() {\n    //   this.$refs.vaptchaVc.resetVerify();\n    //   this.form.vaptcha.server = \"\";\n    //   this.form.vaptcha.token = \"\";\n    // },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.btn {\n  padding: 10px;\n}\n.loginForm span {\n  font-size: 14px;\n}\n.loginForm {\n  display: flex;\n  flex-direction: column;\n  // padding: 50px;\n\n  .title {\n    text-align: center;\n    margin-bottom: 20px;\n  }\n  .subtitle {\n    text-align: center;\n    font-size: 18px;\n    margin-bottom: 20px;\n  }\n  .regspan {\n    margin-top: 40px;\n    text-align: center;\n  }\n  .retrieve {\n    text-align: center;\n    color: #6e6b7b;\n  }\n}\n.loginForm .btn:first-of-type {\n  margin-top: 20px;\n  margin-bottom: 0px;\n}\n\n@media screen and (min-width: 576px) {\n  #loginPage {\n    min-width: 450px !important;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=388a933f&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=388a933f&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"388a933f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","ref","staticClass","on","$event","preventDefault","_v","scopedSlots","_u","key","fn","proxy","form","username","model","value","callback","$$v","$set","expression","hasVisiblePassword","password","captchaPass","token","_e","remember","UserLogin","directives","name","rawName","quickLogin","_m","staticRenderFns","data","components","KgCaptcha","methods","e","type","$toastx","title","loading","$vs","target","$refs","loginForm","text","original","uname","pwd","verify","tk","login","then","resp","console","log","resetCaptcha","close","KgCaptchaVc","reset","component"],"sourceRoot":""}