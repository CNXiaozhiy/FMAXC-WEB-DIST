"use strict";(self["webpackChunkFMAXC_WEB_VUE2"]=self["webpackChunkFMAXC_WEB_VUE2"]||[]).push([[844],{8284:function(t,s,e){e.d(s,{A:function(){return o}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-box-wrapper"},[s("div",{ref:"card",staticClass:"card out-card",class:`bg-${t.color||"primary"}`,on:{click:function(s){return t.$emit("click")}}},[t.type&&"normal"!==t.type?t._e():s("div",{staticClass:"card card-box-normal"},[s("div",{staticClass:"card-body p-3 d-flex align-items-center"},[t.$slots.icon?s("span",{class:`b-avatar badge-light-${t.color||"primary"} rounded-circle`,staticStyle:{width:"60px",height:"60px"}},[s("span",{staticClass:"b-avatar-custom"},[t._t("icon")],2)]):t._e(),s("div",{staticClass:"truncate ms-3 appcard-textarea"},[s("div",{staticClass:"d-flex align-items-center flex-wrap"},[t._t("default")],2),s("div",{staticClass:"d-none d-sm-block"},[t._t("description")],2)]),s("div",{staticClass:"appcard-btnarea"},[t._t("btnarea")],2)])]),"box"===t.type?s("div",{staticClass:"card card-box text-center"},[s("div",{staticClass:"card-body"},[t.$slots.icon?s("span",{staticClass:"b-avatar mb-3 rounded-circle",class:`badge-light-${t.color||"primary"}`,staticStyle:{width:"60px",height:"60px"}},[s("span",{staticClass:"b-avatar-custom"},[t._t("icon")],2)]):t._e(),s("div",{staticClass:"truncate"},[t._t("default")],2)])]):t._e()])])},i=[],n={name:"Card",props:["color","top","left","right","bottom","type"],mounted(){void 0!==this.top||void 0!==this.left||void 0!==this.right||void 0!==this.bottom?void 0!==this.top?this.$refs.card.style.paddingTop=""===this.top||!0===this.top?".25rem":this.top:void 0!==this.left?this.$refs.card.style.paddingLeft=""===this.left||!0===this.left?".25rem":this.left:void 0!==this.right?this.$refs.card.style.paddingRight=""===this.right||!0===this.right?".25rem":this.right:void 0!==this.bottom&&(this.$refs.card.style.paddingBottom=""===this.bottom||!0===this.bottom?".25rem":this.bottom):this.$refs.card.style.paddingTop=".25rem"}},r=n,c=e(1656),l=(0,c.A)(r,a,i,!1,null,"09c19e09",null),o=l.exports},5844:function(t,s,e){e.r(s),e.d(s,{default:function(){return S}});e(4114);var a=function(){var t=this,s=t._self._c;return s("div",{staticStyle:{"margin-bottom":"300px"}},[s("BulletinBoard",{staticClass:"mb-2",staticStyle:{"min-height":"110px"},attrs:{Bulletin:t.$store.state.bulletin.list,interval:"5000",loading:t.$store.state.bulletin.loading}}),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("button",{staticClass:"btn btn-success btn-relief px-5 py-2 font-weight-bolder mb-3",staticStyle:{"font-size":"30px"},on:{click:function(s){return t.$router.push("/account/setting/qq-wechat")}}},[t._v(" 🎁绑定QQ >> 领取新人五折券")]),s("vs-alert",{attrs:{success:""},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 详情 ")]},proxy:!0}])},[t._v(" 当前产品正在持续 "),s("b",[t._v("维护/更新")]),t._v(" 中，且属于长期维护产品 ")]),s("h4",{staticClass:"mt-3 p-0 font-weight-bolder ps-3 border-left-primary border-left-width-3 text-nowrap"},[t._v("下载软件")]),s("hr"),s("div",{staticClass:"row"},[s("button",{staticClass:"col-auto btn btn-success btn-relief px-5 py-2 mx-2 font-weight-bolder mb-3",staticStyle:{"font-size":"20px"},on:{click:function(s){return t.download()}}},[s("font-awesome-icon",{attrs:{icon:["fas","download"]}}),t._v(" Windows x86位 ")],1),s("button",{staticClass:"col-auto btn btn-success btn-relief px-5 py-2 mx-2 font-weight-bolder mb-3",staticStyle:{"font-size":"20px"},on:{click:function(s){return t.download()}}},[s("font-awesome-icon",{attrs:{icon:["fas","download"]}}),t._v(" Linux ")],1)]),s("h4",{staticClass:"mt-3 p-0 font-weight-bolder ps-3 border-left-primary border-left-width-3 text-nowrap"},[t._v("类型")]),s("hr"),s("XzChecks",{model:{value:t.checked.version,callback:function(s){t.$set(t.checked,"version",s)},expression:"checked.version"}},[s("xz-option",{attrs:{value:0}},[s("Card",{attrs:{left:""}},[s("div",{staticClass:"px-4"},[s("div",{staticClass:"d-flex align-items-center"},[s("h4",{staticClass:"font-weight-bolder mb-0 text-nowrap"},[t._v(" 普通版 ")]),s("span")]),s("div",{staticClass:"mt-2 text-secondary d-flex align-items-center"},[s("span",{staticClass:"badge me-1 py-1 badge-pill bg-success"},[t._v(" 超划算 ")])])])])],1),s("xz-option",{attrs:{value:1,disabled:!0}},[s("Card",{attrs:{left:"",color:"danger"}},[s("div",{staticClass:"px-4"},[s("div",{staticClass:"d-flex align-items-center"},[s("h4",{staticClass:"font-weight-bolder mb-0 text-nowrap"},[t._v(" 高级版 ")]),s("span")]),s("div",{staticClass:"mt-2 text-secondary d-flex align-items-center"},[s("span",{staticClass:"badge me-1 py-1 badge-pill bg-danger"},[t._v(" 不支持 ")])])])])],1)],1),s("h4",{staticClass:"mt-3 ps-3 font-weight-bolder border-left-primary border-left-width-3 text-nowrap"},[t._v("性能配置")]),s("hr"),s("XzChecks",{model:{value:t.checked.performance,callback:function(s){t.$set(t.checked,"performance",s)},expression:"checked.performance"}},[s("xz-option",{attrs:{value:0}},[s("Card",{attrs:{left:"",type:"box"}},[s("div",{staticClass:"px-2"},[s("div",{staticClass:"d-flex justify-content-between"},[s("h4",{staticClass:"font-weight-bolder mb-0 text-nowrap"},[t._v(" CAC 高配版 ")]),s("div",{staticClass:"text-right"},[s("h3",[s("span",{staticClass:"text-warning"},[t._v(t._s(t.prices&&t.prices.monthly_fee)+" ¥")]),s("span",{staticClass:"font-medium-2"},[t._v("/月")])])])]),s("hr"),s("div",{staticClass:"d-flex"},[s("h5",{staticClass:"font-weight-bolder mb-0 text-nowrap text-secondary"},[t._v("长期维护 / 安全方便 / 高性能")])])])])],1)],1),s("h4",{staticClass:"mt-3 ps-3 font-weight-bolder border-left-primary border-left-width-3 text-nowrap"},[t._v("应用配置")]),s("hr"),s("div",{staticClass:"ps-2"},[t._m(0),s("hr"),s("vs-input",{attrs:{primary:"",placeholder:"应用名称"},scopedSlots:t._u([t.app_info.app_name?null:{key:"message-danger",fn:function(){return[t._v(" 必填项 ")]},proxy:!0}],null,!0),model:{value:t.app_info.app_name,callback:function(s){t.$set(t.app_info,"app_name",s)},expression:"app_info.app_name"}}),s("vs-input",{staticClass:"mt-2",attrs:{primary:"",placeholder:"班级名称"},scopedSlots:t._u([t.app_data.class_name?null:{key:"message-danger",fn:function(){return[t._v(" 必填项 ")]},proxy:!0}],null,!0),model:{value:t.app_data.class_name,callback:function(s){t.$set(t.app_data,"class_name",s)},expression:"app_data.class_name"}}),t._m(1),s("hr"),s("XzChecks",{model:{value:t.checked.app_type,callback:function(s){t.$set(t.checked,"app_type",s)},expression:"checked.app_type"}},[s("xz-option",{attrs:{value:1}},[s("Card",{attrs:{left:""}},[s("div",{staticClass:"px-4"},[s("div",{staticClass:"d-flex align-items-center"},[s("h4",{staticClass:"font-weight-bolder mb-0 text-nowrap"},[t._v(" 值周班委+值日生 ")]),s("span")]),s("div",{staticClass:"mt-2 text-secondary d-flex align-items-center"},[s("span",{staticClass:"font-weight-bolder"},[t._v("值周班委 与 值日生 分离展示")])])])])],1),s("xz-option",{attrs:{value:2}},[s("Card",{attrs:{left:""}},[s("div",{staticClass:"px-4"},[s("div",{staticClass:"d-flex align-items-center"},[s("h4",{staticClass:"font-weight-bolder mb-0 text-nowrap"},[t._v(" 值日班委 ")]),s("span")]),s("div",{staticClass:"mt-2 text-secondary d-flex align-items-center"},[s("span",{staticClass:"font-weight-bolder"},[t._v("值日生即是当日班委")])])])])],1)],1)],1),s("hr"),s("Card",{attrs:{top:"",color:"danger"},scopedSlots:t._u([{key:"icon",fn:function(){return[s("font-awesome-icon",{attrs:{icon:["fas","shield"]}})]},proxy:!0}])},[s("div",{staticClass:"d-flex flex-column"},[s("h4",{staticClass:"m-0 p-0 font-weight-bolder text-nowrap"},[t._v("XzPay 正在保护您的支付安全")]),s("p",{staticClass:"m-0 mt-2 text-secondary text-nowrap"},[t._v("您正在使用 "),s("b",[t._v("XzPay")]),t._v(" "),s("span",{staticStyle:{"border-bottom":"2px dotted rgb(51, 153, 255)"}},[t._v("作为您的首选支付方式")])])])])],1)]),s("BuyWrapper",{attrs:{computeFun:t.computePrice,finishFun:t.startPay}})],1)},i=[function(){var t=this,s=t._self._c;return s("h5",{staticClass:"mt-3 ps-3 font-weight-bolder border-left-warning border-left-width-3 text-nowrap"},[s("small",{staticClass:"text-danger"},[t._v("*")]),t._v(" 应用信息 / 应用数据")])},function(){var t=this,s=t._self._c;return s("h5",{staticClass:"mt-3 ps-3 font-weight-bolder border-left-warning border-left-width-3 text-nowrap"},[s("small",{staticClass:"text-danger"},[t._v("*")]),t._v(" 展示设置")])}],n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"buy-wrapper bg-white"},[s("div",{staticClass:"row justify-content-md-center"},[s("div",{staticClass:"col-md-10"},[s("div",{staticClass:"row wrapper-content"},[s("div",{staticClass:"col-md-2 col-5"},[s("div",{staticClass:"m-3"},[t._m(0),s("vs-select",{staticClass:"mt-2",attrs:{placeholder:"购买时长",state:"primary"},model:{value:t.select.auto_renew_value,callback:function(s){t.$set(t.select,"auto_renew_value",s)},expression:"select.auto_renew_value"}},[s("vs-option",{attrs:{label:"连续包月",value:"1"}},[t._v(" 连续包月 ")]),s("vs-option",{attrs:{label:"连续包年",value:"2"}},[t._v(" 连续包年 ")]),s("vs-option",{attrs:{label:"终身",value:"3"}},[t._v(" 终身 ")])],1)],1)]),s("div",{staticClass:"col-md-4 col-xl-3 col-6"},[s("div",{staticClass:"m-3"},[s("label",{staticClass:"text-secondary mr-50"},[t._v("配置价格")]),s("div",{staticClass:"text-nowrap d-flex flex-column"},[s("span",{staticClass:"h2 text-warning mb-0 mr-1"},[t._v(" "+t._s(t.price?t.price+" ¥":"计算中")+" ")]),s("small",{staticClass:"text-secondary"},[s("i",{staticClass:"text-muted ml-50"},[t._v(" ( 配置："+t._s(t.desc_price)+" "),s("span",[t._v(t._s(t.desc_more_price))]),t._v(" ) ")])])])])]),s("div",{staticClass:"col-md-5 col-xl-3"},[s("div",{staticClass:"m-3"},[s("label",{staticClass:"text-secondary"},[s("a",{staticClass:"small",attrs:{href:"#",target:"_self"}},[s("svg",{staticClass:"svg-inline--fa fa-right-to-bracket",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"right-to-bracket",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{"data-v-2221773f":"",fill:"currentColor",d:"M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"}})]),t._v(" 新人优惠券 ")]),t._m(1)]),s("div",{staticClass:"mt-25"},[s("vs-select",{staticClass:"w-75 mt-2",attrs:{state:"dark"},model:{value:t.select.discount_value,callback:function(s){t.$set(t.select,"discount_value",s)},expression:"select.discount_value"}},[s("vs-option",{attrs:{label:"不使用优惠券",value:"0"}},[t._v(" 不使用优惠券 ")]),t._l(t.discount,(function(e){return s("vs-option",{key:e.id,attrs:{label:e.title,value:e.id}},[t._v(" "+t._s(e.title)+" ")])}))],2)],1)])]),s("div",{staticClass:"btn-area text-right col-xl-4 pt-3"},[s("div",{staticClass:"mx-2 mb-1"},[s("div",{staticClass:"d-flex"},[s("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"btn btn-success btn-relief text-nowrap flex-grow-1",attrs:{type:"button"},on:{click:function(s){return t.finishFun(t.price)}}},[s("b",{staticStyle:{"font-size":"1.2rem"}},[t._v(" 立即购买")])])]),t._m(2)])])])])])])},r=[function(){var t=this,s=t._self._c;return s("span",{staticClass:"text-nowrap"},[s("label",{staticClass:"text-secondary mr-50 mb-50"},[t._v("购买时长")]),s("span",[s("label",{staticClass:"text-danger"},[s("i",[t._v("年付7折")])])])])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"small ml-1 text-muted",attrs:{to:"[object Object]",id:"invite-tip"}},[s("i",{staticClass:"mb-0"},[t._v("邀请1人 "),s("span",{staticClass:"text-danger"},[t._v("再打5折 ")])]),s("span",{staticClass:"badge px-25 p-0 badge-light-secondary"},[s("span",{staticClass:"text-muted"},[t._v("?")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-center"},[s("span",[s("small",{staticClass:"text-nowrap mb-2"},[s("span",{attrs:{id:"reprofit-tip"}},[s("i",{staticClass:"text-muted"},[t._v("消费返利 "),s("small",{staticClass:"text-warning"},[t._v(" 0¥ ")])]),s("span",{staticClass:"badge px-1 p-0 badge-light-secondary"},[s("span",{staticClass:"text-muted"},[t._v("?")])])])])])])}],c={data(){return{select:{auto_renew_value:1,discount_value:0},price:"",desc_price:"",desc_more_price:""}},watch:{select:{immediate:!0,deep:!0,async handler(){if(this.computeFun){this.price="";const t=await this.computeFun(this.select.auto_renew_value,this.select.discount_value);"number"==typeof t||"string"==typeof t?this.price=t:"object"==typeof t&&(this.price=t.price,this.desc_price=t.desc_price,this.desc_more_price=t.desc_more_price)}}}},props:["loading","discount","computeFun","finishFun"]},l=c,o=e(1656),d=(0,o.A)(l,n,r,!1,null,"7595be42",null),p=d.exports,u=e(8284),h=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"row"},[t._t("default")],2)])},f=[],m={props:{value:{type:[String,Number],default:0}},components:{Card:u.A},methods:{select(t){this.$emit("input",t)}},mounted(){}},_=m,v=(0,o.A)(_,h,f,!1,null,null,null),b=v.exports,x=function(){var t=this,s=t._self._c;return s("div",{staticClass:"mb-3 col-lg-6 col-xl-4 px-2"},[s("div",{staticClass:"px-0 check-card",class:t.$parent.value===t.value?"active":"",on:{click:t.select}},[t._t("default")],2)])},C=[],w={props:["value","disabled"],mounted(){if(void 0!==this.$parent.value)for(let t=0;t<this.$slots.default.length;t++){const s=this.$slots.default[t];(this.disabled||""===this.disabled)&&s.elm.setAttribute("disabled",!0)}},methods:{select(){this.disabled||this.$parent.select(this.value)}}},g=w,y=(0,o.A)(g,x,C,!1,null,"0e9cbcd8",null),k=y.exports,$=e(1862),A={data(){return{prices:null,checked:{version:0,performance:0,app_type:1},auto_renew_type:1,auto_renew_status:1,app_info:{app_name:""},app_data:{class_name:""}}},components:{Card:u.A,XzChecks:b,XzOption:k,BuyWrapper:p},async mounted(){},methods:{async download(){const t=await(0,$.P$)(1001);1===t.code?window.open(t.url):this.$swal("下载失败",t.msg,"error")},async getPrices(){const t=await(0,$.JA)(1001);1===t.code?this.prices=t.price:this.$swal("获取价格失败",t.msg,"error")},async computePrice(t,s){this.prices||await this.getPrices(),this.auto_renew_type=t;let e=0,a="";return 1==t?(e=this.prices.monthly_fee,a="¥/月"):2==t?(e=this.prices.annual_fee,a="¥/年"):3==t&&(e=this.prices.lifetime_fee,a="¥/终身"),a=e+a,{price:e,desc_price:a}},startPay(t){this.app_info.app_name&&this.app_data.class_name?this.$swal({icon:"warning",title:"确认支付",text:"您确定要支付 "+t+" 元并开通自动续费？",showCancelButton:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then((async({isConfirmed:t})=>{if(t){const t=await(0,$.pF)(1001,{auto_renew_type:parseInt(this.auto_renew_type),auto_renew_status:parseInt(this.auto_renew_status),config:{app_type:parseInt(this.checked.app_type),app_name:this.app_info.app_name,class_name:this.app_data.class_name}});if(1!==t.code)return void this.$swal({icon:"error",title:"操作失败",text:t.msg,confirmButtonText:"确认"}).then((()=>{-4===t.code&&this.$router.push("/dashboard/expense/pay")}));this.$swal({icon:"success",title:"购买成功",text:t.msg,confirmButtonText:"确认"}).then((()=>{this.$router.push("/apps/cac/list")}))}})):this.$swal({icon:"error",title:"操作失败",text:"应用配置-必填项未填写",confirmButtonText:"确认"})}}},z=A,B=(0,o.A)(z,a,i,!1,null,null,null),S=B.exports},1862:function(t,s,e){e.d(s,{JA:function(){return i},P$:function(){return p},U4:function(){return l},YH:function(){return u},Yf:function(){return o},g7:function(){return c},gN:function(){return r},pF:function(){return n},s:function(){return d}});var a=e(4187);async function i(t){try{const s=await(0,a.A)({method:"post",url:"/product/"+t});return s.data}catch(s){return s.data}}async function n(t,s){try{const e=await(0,a.A)({method:"post",url:"/product/buy/",data:{product_id:t,auto_renew_type:s.auto_renew_type,auto_renew_status:s.auto_renew_status,config:s.config}});return e.data}catch(e){return e.data}}async function r(t){try{const s=await(0,a.A)({method:"post",url:"/product/list/"+t});return s.data}catch(s){return s.data}}async function c(t){try{const s=await(0,a.A)({method:"post",url:"/product/get/app_info/"+t});return s.data}catch(s){return s.data}}async function l(t){try{const s=await(0,a.A)({method:"post",url:"/product/remove/app/"+t});return s.data}catch(s){return s.data}}async function o(t,s){try{const e=await(0,a.A)({method:"post",url:"/product/change/base/app/"+t,data:s});return e.data}catch(e){return e.data}}async function d(t,s){try{const e=await(0,a.A)({method:"post",url:"/product/change/data/app/"+t,data:s});return e.data}catch(e){return e.data}}async function p(t){try{const s=await(0,a.A)({method:"post",url:"/product/download/app/"+t});return s.data}catch(s){return s.data}}async function u(){try{const t=await(0,a.A)({method:"post",url:"/iot/info"});return t.data}catch(t){return t.data}}}}]);
//# sourceMappingURL=844.ef6e0d73.js.map