{"version":3,"file":"js/888.4410cbd5.js","mappings":"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","sources":["webpack://FMAXC-WEB-VUE2/./src/pages/Account/Setting/QQWechat.vue","webpack://FMAXC-WEB-VUE2/src/pages/Account/Setting/QQWechat.vue","webpack://FMAXC-WEB-VUE2/./src/pages/Account/Setting/QQWechat.vue?68d7","webpack://FMAXC-WEB-VUE2/./src/pages/Account/Setting/QQWechat.vue?892e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"AccountSettingQQWechat\"}},[_c('div',{staticClass:\"row w-100\"},[_c('div',{ref:\"bindqq\",staticClass:\"card col-md bind-qq me-3\"},[_c('div',{staticClass:\"card-body\"},[_vm._m(0),_c('div',{staticClass:\"qq-info\"},[_c('div',{staticClass:\"photo\"},[_c('vs-avatar',{attrs:{\"size\":\"50\"}},[_c('img',{attrs:{\"src\":_vm.qqinfo.photo,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"infos\"},[_c('span',{staticClass:\"qq\"},[_vm._v(\"QQ: \"+_vm._s(_vm.qqinfo.qq))]),_c('span',{staticClass:\"nickname\"},[_vm._v(\"用户名: \"+_vm._s(_vm.qqinfo.nickname))])])]),_c('hr'),_c('div',{staticClass:\"auth\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.affirm),expression:\"!affirm\"}],staticClass:\"affirm\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入要绑定的QQ号\",\"disabled\":_vm.get.bind},model:{value:(_vm.bind_qid),callback:function ($$v) {_vm.bind_qid=$$v},expression:\"bind_qid\"}}),_c('button',{staticClass:\"btn\",class:_vm.get.bind ? 'btn-danger' : 'btn-success',attrs:{\"disabled\":_vm.qqinfo.qq === '正在拉取'},on:{\"click\":_vm.verifyStart}},[_vm._v(\" \"+_vm._s(_vm.get.bind ? \"解除绑定\" : \"开始验证\")+\" \")])],1),_c('transition',{attrs:{\"name\":\"el-fade-in-linear\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.affirm),expression:\"affirm\"}],staticClass:\"bind\"},[_c('span',{staticClass:\"status\"},[_vm._v(\"绑定状态： \"),_c('span',{class:_vm.bind_status_class},[_vm._v(_vm._s(_vm.bind_status))])]),_c('span',{staticClass:\"help font-weight-bolder\"},[_vm._v(\" 请在 \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://qm.qq.com/cgi-bin/qm/qr?k=AeLPHrzg-B7ajsmlx6TYvvhPi1lQK4dV&jump_from=webapi&authKey=01CIqwcseG9Mw8hoA0xmgQUUQKYlsJGaW2xXKpIaFF8FiLOxlvFftdMZ9w3UxK2l\"}},[_vm._v(\"官方群\")]),_vm._v(\" 或 \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://qm.qq.com/cgi-bin/qm/qr?k=4q9Z5bqepCbTEkMNFuO_eNW5RB20taHZ&jump_from=webapi&authKey=dOOlmHwM+bW73BFNmogszo8CxprOkB/0LNcIi9Fl/eiKBObnUB8LyO/gOiaV+Xut\"}},[_vm._v(\"闲聊群\")]),_vm._v(\" 中发送 \\\".bind-qq\\\" \")])])])],1)])]),_vm._m(1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-title\"},[_c('span',{staticClass:\"title font-weight-bolder\"},[_vm._v(\"绑定 QQ\")]),_c('hr')])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card col-md bind-wechat mt-md-0 mt-3\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"card-title\"},[_c('span',{staticClass:\"title font-weight-bolder\"},[_vm._v(\"绑定 微信\")]),_c('hr')]),_c('span',{staticClass:\"text-danger text-center\"},[_vm._v(\"- 暂不支持 -\")]),_c('hr'),_c('button',{staticClass:\"btn btn-success w-100\",attrs:{\"disabled\":\"\"}},[_vm._v(\"开始验证\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"AccountSettingQQWechat\">\n    <div class=\"row w-100\">\n      <div class=\"card col-md bind-qq me-3\" ref=\"bindqq\">\n        <div class=\"card-body\">\n          <div class=\"card-title\">\n            <span class=\"title font-weight-bolder\">绑定 QQ</span>\n            <hr />\n          </div>\n\n          <div class=\"qq-info\">\n            <div class=\"photo\">\n              <!-- <el-avatar :size=\"50\" :src=\"qqinfo.photo\"></el-avatar> -->\n              <vs-avatar size=\"50\">\n                <img :src=\"qqinfo.photo\" alt=\"\" />\n              </vs-avatar>\n            </div>\n            <div class=\"infos\">\n              <span class=\"qq\">QQ: {{ qqinfo.qq }}</span>\n              <span class=\"nickname\">用户名: {{ qqinfo.nickname }}</span>\n            </div>\n          </div>\n          <hr />\n          <div class=\"auth\">\n            <div class=\"affirm\" v-show=\"!affirm\">\n              <el-input v-model=\"bind_qid\" placeholder=\"请输入要绑定的QQ号\" :disabled=\"get.bind\"></el-input>\n              <button class=\"btn\" @click=\"verifyStart\" :class=\"get.bind ? 'btn-danger' : 'btn-success'\" :disabled=\"qqinfo.qq === '正在拉取'\">\n                {{ get.bind ? \"解除绑定\" : \"开始验证\" }}\n              </button>\n            </div>\n            <transition name=\"el-fade-in-linear\">\n              <div class=\"bind\" v-show=\"affirm\">\n                <span class=\"status\"\n                  >绑定状态：\n                  <span :class=\"bind_status_class\">{{ bind_status }}</span>\n                </span>\n                <span class=\"help font-weight-bolder\">\n                  请在\n                  <a target=\"_blank\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=AeLPHrzg-B7ajsmlx6TYvvhPi1lQK4dV&jump_from=webapi&authKey=01CIqwcseG9Mw8hoA0xmgQUUQKYlsJGaW2xXKpIaFF8FiLOxlvFftdMZ9w3UxK2l\">官方群</a>\n                  或\n                  <a target=\"_blank\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=4q9Z5bqepCbTEkMNFuO_eNW5RB20taHZ&jump_from=webapi&authKey=dOOlmHwM+bW73BFNmogszo8CxprOkB/0LNcIi9Fl/eiKBObnUB8LyO/gOiaV+Xut\">闲聊群</a>\n                  中发送 \".bind-qq\"\n                </span>\n              </div>\n            </transition>\n          </div>\n        </div>\n      </div>\n      <div class=\"card col-md bind-wechat mt-md-0 mt-3\">\n        <div class=\"card-body\">\n          <div class=\"card-title\">\n            <span class=\"title font-weight-bolder\">绑定 微信</span>\n            <hr />\n          </div>\n          <span class=\"text-danger text-center\">- 暂不支持 -</span>\n          <!-- <img src=\"cqCode\" alt=\"二维码\" style=\"height: 100px; width: 100px;\"> -->\n          <hr />\n          <button class=\"btn btn-success w-100\" disabled>开始验证</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { bind_qq } from \"@/scripts/auth\";\nimport { unbind_qq } from \"@/scripts/auth\";\nimport request from \"@/scripts/utils/request\";\n\nexport default {\n  name: \"QQWechat\",\n  data() {\n    return {\n      affirm: false,\n      bind_qid: \"\",\n      bind_status: \"待验证\",\n      bind_status_class: \"text-danger\",\n      qqinfo: {\n        qq: \"正在拉取\",\n        photo: \"\",\n        nickname: \"正在拉取\",\n      },\n      get: {\n        Interval: \"\",\n        bind: false,\n      },\n      loading_bindqq: null,\n    };\n  },\n  computed: {\n    userinfo() {\n      this.$store.state.userData.user.info;\n    },\n  },\n  mounted() {\n    this.get.Interval = setInterval(this.refresh, 2000);\n    this.loading_bindqq = this.$vs.loading({\n      target: this.$refs.bindqq,\n    });\n  },\n  methods: {\n    async refresh() {\n      await this.$store.state.userData.pullData();\n      const qid = this.$store.state.userData.user.info.qid;\n      if (qid) {\n        clearInterval(this.get.Interval);\n        this.bind_status = \"已绑定\";\n        this.bind_status_class = \"text-success\";\n        this.get.bind = true;\n        this.get.Interval = \"\";\n        // 获取昵称 创建jsonp\n        let script = document.createElement(\"script\");\n        script.src = \"https://users.qzone.qq.com/fcg-bin/cgi_get_portrait.fcg?uins=\" + qid;\n        document.body.append(script);\n\n        window.portraitCallBack = (data) => {\n          const qqname = data[qid][6];\n          this.qqinfo.qq = qid;\n          this.qqinfo.photo = `https://q2.qlogo.cn/headimg_dl?dst_uin=${qid}&spec=100`;\n          this.qqinfo.nickname = qqname;\n\n          script.remove();\n          window.portraitCallBack = null;\n        };\n      } else {\n        if (this.qqinfo.qq === \"正在拉取\") {\n          this.qqinfo.qq = \"未绑定\";\n          this.qqinfo.photo = \"\";\n          this.qqinfo.nickname = \"未绑定\";\n        }\n      }\n\n      this.loading_bindqq.close();\n      this.loading_bindqq = null;\n    },\n    async verifyStart() {\n      if (this.get.bind) {\n        this.$swal({\n          title: \"确认解绑 ？\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonText: \"确认\",\n          cancelButtonText: \"取消\",\n        }).then((resp) => {\n          if (resp.isConfirmed) {\n            unbind_qq();\n          }\n        });\n        return;\n      }\n      if (!this.bind_qid && !this.get.bind) return;\n      const creatd = await bind_qq({\n        qid: this.bind_qid,\n      });\n      if (!creatd) {\n        return;\n      }\n      this.affirm = true;\n    },\n    async verifyStatus() {},\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.btn {\n  padding: 10px;\n}\n#AccountSettingQQWechat {\n  display: flex;\n\n  .qq-info {\n    display: flex;\n    min-width: 300px;\n    // flex-direction: row;\n\n    .title {\n      margin: 10px;\n    }\n  }\n\n  .bind-qq {\n    min-width: 300px;\n  }\n\n  .bind-wechat {\n    min-width: 300px;\n  }\n\n  .infos {\n    margin-left: 20px;\n  }\n  .infos > * {\n    display: block;\n  }\n  .infos .qq {\n    font-size: 18px;\n  }\n\n  .auth {\n    .affirm .btn {\n      margin-top: 10px;\n      width: 100%;\n    }\n    .bind {\n      display: flex;\n      flex-direction: column;\n      padding: 10px;\n      .status {\n        font-size: 18px;\n      }\n      .help {\n        margin-top: 10px;\n        font-size: 14px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QQWechat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QQWechat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./QQWechat.vue?vue&type=template&id=64c61628&scoped=true\"\nimport script from \"./QQWechat.vue?vue&type=script&lang=js\"\nexport * from \"./QQWechat.vue?vue&type=script&lang=js\"\nimport style0 from \"./QQWechat.vue?vue&type=style&index=0&id=64c61628&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64c61628\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","ref","_m","qqinfo","photo","_v","_s","qq","nickname","directives","name","rawName","value","affirm","expression","get","bind","model","bind_qid","callback","$$v","class","on","verifyStart","bind_status_class","bind_status","staticRenderFns","data","Interval","loading_bindqq","computed","userinfo","$store","state","userData","user","info","mounted","setInterval","refresh","$vs","loading","target","$refs","bindqq","methods","pullData","qid","clearInterval","script","document","createElement","src","body","append","window","portraitCallBack","qqname","remove","close","$swal","title","icon","showCancelButton","confirmButtonText","cancelButtonText","then","resp","isConfirmed","unbind_qq","creatd","bind_qq","verifyStatus","component"],"sourceRoot":""}