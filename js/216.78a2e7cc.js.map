{"version":3,"file":"js/216.78a2e7cc.js","mappings":"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","sources":["webpack://FMAXC-WEB-VUE2/./src/components/Card.vue","webpack://FMAXC-WEB-VUE2/src/components/Card.vue","webpack://FMAXC-WEB-VUE2/./src/components/Card.vue?98e4","webpack://FMAXC-WEB-VUE2/./src/components/Card.vue?0220","webpack://FMAXC-WEB-VUE2/./src/pages/Account/Setting/EmailPhone.vue","webpack://FMAXC-WEB-VUE2/src/pages/Account/Setting/EmailPhone.vue","webpack://FMAXC-WEB-VUE2/./src/pages/Account/Setting/EmailPhone.vue?5ec2","webpack://FMAXC-WEB-VUE2/./src/pages/Account/Setting/EmailPhone.vue?2f70"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-box-wrapper\"},[_c('div',{ref:\"card\",staticClass:\"card out-card\",class:`bg-${_vm.color || 'primary'}`,on:{\"click\":function($event){return _vm.$emit('click')}}},[(!_vm.type || _vm.type === 'normal')?_c('div',{staticClass:\"card card-box-normal\"},[_c('div',{staticClass:\"card-body p-3 d-flex align-items-center\"},[_c('span',{class:`b-avatar badge-light-${_vm.color || 'primary'} rounded-circle`,staticStyle:{\"width\":\"60px\",\"height\":\"60px\"}},[_c('span',{staticClass:\"b-avatar-custom\"},[_vm._t(\"icon\")],2)]),_c('div',{staticClass:\"truncate ms-3 appcard-textarea\"},[_c('div',{staticClass:\"d-flex align-items-center flex-wrap\"},[_vm._t(\"title\")],2),_c('div',{staticClass:\"d-none d-sm-block\"},[_vm._t(\"description\")],2)]),_c('div',{staticClass:\"appcard-btnarea\"},[_vm._t(\"btnarea\")],2)])]):_vm._e(),(_vm.type === 'box')?_c('div',{staticClass:\"card card-box text-center\"},[_c('div',{staticClass:\"card-body\"},[_c('span',{staticClass:\"b-avatar mb-3 rounded-circle\",class:`badge-light-${_vm.color || 'primary'}`,staticStyle:{\"width\":\"60px\",\"height\":\"60px\"}},[_c('span',{staticClass:\"b-avatar-custom\"},[_vm._t(\"icon\")],2)]),_c('div',{staticClass:\"truncate\"},[_vm._t(\"title\")],2)])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card-box-wrapper\">\n    <div class=\"card out-card\" :class=\"`bg-${color || 'primary'}`\" @click=\"$emit('click')\" ref=\"card\">\n      <div v-if=\"!type || type === 'normal'\" class=\"card card-box-normal\">\n        <div class=\"card-body p-3 d-flex align-items-center\">\n          <span :class=\"`b-avatar badge-light-${color || 'primary'} rounded-circle`\" style=\"width: 60px; height: 60px\">\n            <span class=\"b-avatar-custom\">\n              <slot name=\"icon\"></slot>\n            </span>\n          </span>\n          <div class=\"truncate ms-3 appcard-textarea\">\n            <div class=\"d-flex align-items-center flex-wrap\">\n              <slot name=\"title\"></slot>\n            </div>\n            <div class=\"d-none d-sm-block\">\n              <slot name=\"description\"></slot>\n            </div>\n          </div>\n          <div class=\"appcard-btnarea\">\n            <slot name=\"btnarea\"></slot>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"type === 'box'\" class=\"card card-box text-center\">\n        <div class=\"card-body\">\n          <span class=\"b-avatar mb-3 rounded-circle\" :class=\"`badge-light-${color || 'primary'}`\" style=\"width: 60px; height: 60px\">\n            <span class=\"b-avatar-custom\">\n              <slot name=\"icon\"></slot>\n            </span>\n          </span>\n          <div class=\"truncate\">\n            <slot name=\"title\"></slot>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Card\",\n  props: [\"color\", \"top\", \"left\", \"right\", \"bottom\", \"type\"],\n  mounted() {\n    if (this.top !== undefined) {\n      this.$refs.card.style.paddingTop = this.top || \".25rem\";\n    } else if (this.left !== undefined) {\n      this.$refs.card.style.paddingLeft = this.left || \".25rem\";\n    } else if (this.right !== undefined) {\n      this.$refs.card.style.paddingRight = this.right || \".25rem\";\n    } else if (this.bottom !== undefined) {\n      this.$refs.card.style.paddingBottom = this.bottom || \".25rem\";\n    }\n\n    if (this.top === undefined && this.left === undefined && this.right === undefined && this.bottom === undefined) {\n      this.$refs.card.style.paddingTop = \".25rem\";\n    }\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.out-card-wrapper .card {\n  transition: all 5s ease;\n}\n.out-card {\n  display: inline-block;\n  padding: 0;\n  // padding-top: .25rem;\n  box-shadow: none;\n  cursor: pointer;\n  width: 100%;\n\n  .card {\n    box-shadow: 0 4px 24px 0 rgba(34, 41, 47, 0.1);\n    background: #fff;\n    opacity: 1;\n  }\n}\n\n.appcard-textarea {\n  flex-grow: 1;\n}\n.appcard-btnarea {\n  text-align: right;\n}\n\n@media screen and (max-width: 400px) {\n  .card-box-normal .b-avatar {\n    display: none !important;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=6356a68c&scoped=true\"\nimport script from \"./Card.vue?vue&type=script&lang=js\"\nexport * from \"./Card.vue?vue&type=script&lang=js\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=6356a68c&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6356a68c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\"},[_c('div',{ref:\"bindemail\",staticClass:\"card col-md me-3\"},[_c('div',{staticClass:\"card-body\"},[_vm._m(0),(!_vm.bind)?_c('div',[_c('div',{staticClass:\"d-flex align-items-start mb-3\"},[_c('vs-input',{attrs:{\"primary\":\"\",\"placeholder\":\"请输入您的邮箱\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('i',{staticClass:\"bx bx-envelope\"})]},proxy:true},(!_vm.testEmail(_vm.form.email) || !_vm.form.email)?{key:\"message-danger\",fn:function(){return [_vm._v(\" 格式不正确 \")]},proxy:true}:null],null,true),model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),_c('button',{staticClass:\"ms-2 btn btn-primary text-nowrap p-2 fw-bold\",attrs:{\"disabled\":!_vm.form.token || !_vm.testEmail(_vm.form.email) || !_vm.form.email || _vm.form.send},on:{\"click\":_vm.sendCode}},[_vm._v(\"发送验证码\"+_vm._s(_vm.form.wait === 0 ? \"\" : ` (${_vm.form.wait})`))])],1),_c('KgCaptcha',{ref:\"KgCaptchaVc\",staticClass:\"mt-3\",attrs:{\"id\":\"emailCaptcha\",\"handler\":_vm.captchaPass}}),(!_vm.form.token)?_c('div',{staticClass:\"vs-input__message vs-input__message--danger\"},[_vm._v(\"请先完成人机验证\")]):_vm._e(),_c('div',{staticClass:\"mt-3\"},[_c('vs-input',{attrs:{\"danger\":\"\",\"placeholder\":\"请输入验证码\",\"disabled\":!_vm.form.token || !_vm.form.send},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('i',{staticClass:\"bx bx-check-shield\"})]},proxy:true},(!_vm.form.code)?{key:\"message-danger\",fn:function(){return [_vm._v(\" 必填项 \")]},proxy:true}:null],null,true),model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}}),_c('button',{staticClass:\"mt-2 btn btn-success w-100\",attrs:{\"disabled\":!_vm.testEmail(_vm.form.email) || !_vm.form.email || !_vm.form.token || !_vm.form.send || !_vm.form.code},on:{\"click\":_vm.bindEmail}},[_vm._v(\"绑定邮箱\")])],1)],1):_vm._e(),(_vm.bind)?_c('div',[_c('div',{staticClass:\"d-flex flex-column\"},[_c('span',{staticClass:\"text-success fs-5 fw-bold pb-2\"},[_c('StatusIcon',{attrs:{\"status\":\"success\"}}),_vm._v(\" 您的邮箱已完成绑定\")],1),_c('span',{staticClass:\"text-secondary fw-bold py-2\"},[_c('i',{staticClass:\"bx bxs-envelope\"}),_vm._v(\" \"+_vm._s(_vm.$store.state.userData.user.info.email)+\" \")]),_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"mt-3 btn btn-danger\",on:{\"click\":_vm.unbindEmail}},[_vm._v(\"解除绑定\")])])]):_vm._e()])]),_c('div',{staticClass:\"card col-md mt-md-0 mt-3\"},[_c('div',{staticClass:\"card-body\"},[_vm._m(1),_c('Card',{staticClass:\"w-100\",attrs:{\"color\":\"danger\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'circle-exclamation']}})]},proxy:true},{key:\"title\",fn:function(){return [_c('h4',{staticClass:\"font-weight-bolder m-0 text-nowrap\"},[_vm._v(\"暂停服务\")])]},proxy:true}])})],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-title\"},[_c('h3',[_vm._v(\"绑定邮箱\")]),_c('hr')])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-title\"},[_c('h3',[_vm._v(\"绑定手机\")]),_c('hr')])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <div class=\"card col-md me-3\" ref=\"bindemail\">\n      <div class=\"card-body\">\n        <div class=\"card-title\">\n          <h3>绑定邮箱</h3>\n          <hr />\n        </div>\n\n        <div v-if=\"!bind\">\n          <div class=\"d-flex align-items-start mb-3\">\n            <vs-input primary placeholder=\"请输入您的邮箱\" v-model=\"form.email\">\n              <template #icon>\n                <i class=\"bx bx-envelope\"></i>\n              </template>\n              <template v-if=\"!testEmail(form.email) || !form.email\" #message-danger> 格式不正确 </template>\n            </vs-input>\n            <button class=\"ms-2 btn btn-primary text-nowrap p-2 fw-bold\" :disabled=\"!form.token || !testEmail(form.email) || !form.email || form.send\" @click=\"sendCode\">发送验证码{{ form.wait === 0 ? \"\" : ` (${form.wait})` }}</button>\n          </div>\n          <KgCaptcha id=\"emailCaptcha\" class=\"mt-3\" :handler=\"captchaPass\" ref=\"KgCaptchaVc\" />\n\n          <div class=\"vs-input__message vs-input__message--danger\" v-if=\"!form.token\">请先完成人机验证</div>\n          <div class=\"mt-3\">\n            <vs-input danger placeholder=\"请输入验证码\" v-model=\"form.code\" :disabled=\"!form.token || !form.send\">\n              <template #icon>\n                <i class=\"bx bx-check-shield\"></i>\n              </template>\n              <template v-if=\"!form.code\" #message-danger> 必填项 </template>\n            </vs-input>\n            <button class=\"mt-2 btn btn-success w-100\" :disabled=\"!testEmail(form.email) || !form.email || !form.token || !form.send || !form.code\" @click=\"bindEmail\">绑定邮箱</button>\n          </div>\n        </div>\n        <div v-if=\"bind\">\n          <!-- 已绑定 -->\n          <div class=\"d-flex flex-column\">\n            <span class=\"text-success fs-5 fw-bold pb-2\"><StatusIcon status=\"success\"></StatusIcon> 您的邮箱已完成绑定</span>\n            <span class=\"text-secondary fw-bold py-2\">\n              <i class=\"bx bxs-envelope\"></i>\n              {{ $store.state.userData.user.info.email }}\n            </span>\n            <button v-wave class=\"mt-3 btn btn-danger\" @click=\"unbindEmail\">解除绑定</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"card col-md mt-md-0 mt-3\">\n      <div class=\"card-body\">\n        <div class=\"card-title\">\n          <h3>绑定手机</h3>\n          <hr />\n        </div>\n        <Card color=\"danger\" class=\"w-100\">\n          <template #icon>\n            <font-awesome-icon :icon=\"['fas', 'circle-exclamation']\" />\n          </template>\n          <template #title>\n            <h4 class=\"font-weight-bolder m-0 text-nowrap\">暂停服务</h4>\n          </template>\n        </Card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Card from \"@/components/Card.vue\";\nimport KgCaptcha from \"@/components/KgCaptcha.vue\";\nimport StatusIcon from \"@/components/StatusIcon.vue\";\nimport { bind_email, unbind_email } from \"@/scripts/auth\";\nimport pullData from \"@/scripts/common/PullData\";\n\nexport default {\n  name: \"EmailPhone\",\n  data() {\n    return {\n      form: {\n        wait: 0,\n        uname: \"\",\n        email: \"\",\n        code: \"\",\n        send: false, // 是否已发送验证码\n        token: \"\",\n      },\n      timer: null,\n    };\n  },\n  components: {\n    Card,\n    KgCaptcha,\n    StatusIcon,\n  },\n  computed: {\n    bind() {\n      return !!this.$store.state.userData.user.info.email;\n    },\n  },\n  methods: {\n    async sendCode() {\n      if (!this.testEmail(this.form.email) || !this.form.email || !this.form.token || this.form.send) return;\n\n      const loading = this.$vs.loading({\n        target: this.$refs.bindemail,\n        text: \"发送中...\",\n      });\n\n      const resp = await bind_email({\n        email: this.form.email,\n        verify: {\n          tk: this.form.token,\n        },\n      });\n\n      if (resp.status === 1) {\n        this.$swal({\n          icon: \"success\",\n          title: \"发送成功\",\n          text: \"验证码已发送至您的邮箱，请重新完成人机验证\",\n        });\n        this.resetCaptcha();\n        this.form.send = true;\n        this.openTimer();\n      } else {\n        this.$swal({\n          icon: \"error\",\n          title: \"发送失败\",\n          text: resp.msg,\n        });\n        this.resetCaptcha();\n      }\n\n      loading.close();\n    },\n    async bindEmail() {\n      if (!this.testEmail(this.form.email) || !this.form.email || !this.form.token || !this.form.send || !this.form.code) return;\n\n      const loading = this.$vs.loading({\n        target: this.$refs.bindemail,\n        text: \"绑定中...\",\n      });\n\n      const resp = await bind_email({\n        email: this.form.email,\n        verify: {\n          tk: this.form.token,\n        },\n        code: this.form.code,\n      });\n      if (resp.status === 1) {\n        this.$swal({\n          icon: \"success\",\n          title: \"绑定成功\",\n          text: \"您的邮箱已绑定\",\n        });\n        await pullData(true);\n      } else {\n        this.$swal({\n          icon: \"error\",\n          title: \"绑定失败\",\n          text: resp.msg,\n        });\n        this.resetCaptcha();\n      }\n\n      loading.close();\n    },\n    async unbindEmail() {\n      await this.$swal({\n        icon: \"warning\",\n        title: \"解除绑定\",\n        text: \"您确定要解除绑定吗？\",\n        showCancelButton: true,\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n      }).then(async (resp) => {\n        if (resp.isConfirmed) {\n          const loading = this.$vs.loading({\n            target: this.$refs.bindemail,\n            text: \"解绑中...\",\n          });\n\n          const resp = await unbind_email();\n          if (resp.status === 1) {\n            await pullData(true);\n            this.$swal({\n              icon: \"success\",\n              title: \"解除成功\",\n              text: \"您的邮箱已解除绑定\",\n            });\n          } else {\n            this.$swal({\n              icon: \"error\",\n              title: \"解除失败\",\n              text: resp.msg,\n            });\n            this.resetCaptcha();\n          }\n\n          loading.close();\n        }\n      });\n    },\n    resetCaptcha() {\n      this.$refs.KgCaptchaVc.reset();\n      this.form.token = \"\";\n    },\n    testEmail(email) {\n      let re = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n      if (re.test(email)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    captchaPass(e, type) {\n      if (type === \"success\") {\n        this.form.token = e.token;\n      }\n    },\n    openTimer() {\n      this.form.wait = 60;\n\n      this.timer = setInterval(() => {\n        this.form.wait--;\n        if (this.form.wait <= 0) {\n          this.form.wait = 0;\n          this.form.send = false;\n          clearInterval(this.timer);\n        }\n      }, 1000);\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmailPhone.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmailPhone.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EmailPhone.vue?vue&type=template&id=6ab033a0\"\nimport script from \"./EmailPhone.vue?vue&type=script&lang=js\"\nexport * from \"./EmailPhone.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","class","color","on","$event","$emit","type","_e","staticStyle","_t","staticRenderFns","name","props","mounted","undefined","top","$refs","card","style","paddingTop","left","paddingLeft","right","paddingRight","bottom","paddingBottom","component","_m","bind","attrs","scopedSlots","_u","key","fn","proxy","testEmail","form","email","_v","model","value","callback","$$v","$set","expression","token","send","sendCode","_s","wait","captchaPass","code","bindEmail","$store","state","userData","user","info","directives","rawName","unbindEmail","data","uname","timer","components","Card","KgCaptcha","StatusIcon","computed","methods","loading","$vs","target","bindemail","text","resp","bind_email","verify","tk","status","$swal","icon","title","resetCaptcha","openTimer","msg","close","pullData","showCancelButton","confirmButtonText","cancelButtonText","then","isConfirmed","unbind_email","KgCaptchaVc","reset","re","test","e","setInterval","clearInterval"],"sourceRoot":""}