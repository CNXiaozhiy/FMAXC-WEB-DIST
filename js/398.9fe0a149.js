"use strict";(self["webpackChunkFMAXC_WEB_VUE2"]=self["webpackChunkFMAXC_WEB_VUE2"]||[]).push([[398],{5398:function(t,s,a){a.r(s),a.d(s,{default:function(){return l}});var i=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"AccountSettingQQWechat"}},[s("div",{staticClass:"card bind-qq"},[s("span",{staticClass:"title font-weight-bolder"},[t._v("绑定 QQ")]),s("hr"),s("div",{staticClass:"qq-info"},[s("div",{staticClass:"photo"},[s("el-avatar",{attrs:{size:50,src:t.qqinfo.photo}})],1),s("div",{staticClass:"infos"},[s("span",{staticClass:"qq"},[t._v("QQ: "+t._s(t.qqinfo.qq))]),s("span",{staticClass:"nickname"},[t._v("用户名: "+t._s(t.qqinfo.nickname))])])]),s("hr"),s("div",{staticClass:"auth"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.affirm,expression:"!affirm"}],staticClass:"affirm"},[s("el-input",{attrs:{placeholder:"请输入要绑定的QQ号",disabled:t.get.bind},model:{value:t.bind_qid,callback:function(s){t.bind_qid=s},expression:"bind_qid"}}),s("button",{staticClass:"btn",class:t.get.bind?"btn-danger":"btn-success",attrs:{disabled:"正在拉取"===t.qqinfo.qq},on:{click:t.verifyStart}},[t._v(t._s(t.get.bind?"解除绑定":"开始验证"))])],1),s("transition",{attrs:{name:"el-fade-in-linear"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.affirm,expression:"affirm"}],staticClass:"bind"},[s("span",{staticClass:"status"},[t._v("绑定状态： "),s("span",{class:t.bind_status_class},[t._v(t._s(t.bind_status))])]),s("span",{staticClass:"help font-weight-bolder"},[t._v(" 请在 "),s("a",{attrs:{target:"_blank",href:"https://qm.qq.com/cgi-bin/qm/qr?k=AeLPHrzg-B7ajsmlx6TYvvhPi1lQK4dV&jump_from=webapi&authKey=01CIqwcseG9Mw8hoA0xmgQUUQKYlsJGaW2xXKpIaFF8FiLOxlvFftdMZ9w3UxK2l"}},[t._v("官方群")]),t._v(" 或 "),s("a",{attrs:{target:"_blank",href:"https://qm.qq.com/cgi-bin/qm/qr?k=4q9Z5bqepCbTEkMNFuO_eNW5RB20taHZ&jump_from=webapi&authKey=dOOlmHwM+bW73BFNmogszo8CxprOkB/0LNcIi9Fl/eiKBObnUB8LyO/gOiaV+Xut"}},[t._v("闲聊群")]),t._v(' 中发送 ".bind-qq" ')])])])],1)]),t._m(0)])},e=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"card bind-wechat"},[s("span",{staticClass:"title font-weight-bolder"},[t._v("绑定 微信")]),s("hr"),s("span",{staticClass:"text-danger text-center"},[t._v("- 暂不支持 -")]),s("hr"),s("button",{staticClass:"btn btn-success",attrs:{disabled:""}},[t._v("开始验证")])])}],n=a(7363),r={name:"QQWechat",data(){return{affirm:!1,bind_qid:"",bind_status:"待验证",bind_status_class:"text-danger",qqinfo:{qq:"正在拉取",photo:"",nickname:"正在拉取"},get:{Interval:"",bind:!1}}},computed:{userinfo(){this.$store.state.userData.user.info}},async mounted(){this.get.Interval=setInterval(this.refresh,2e3)},methods:{async refresh(){this.$store.state.userData.pullData(this);const t=this.$store.state.userData.user.info.qid;t?(clearInterval(this.get.Interval),this.bind_status="已绑定",this.bind_status_class="text-success",this.get.bind=!0,this.get.Interval="",this.$store.dispatch("utils/request",{vc:this,method:"get",url:"https://api.usuuu.com/qq/"+t}).then((t=>{this.qqinfo.qq=t.data.data.qq,this.qqinfo.photo=t.data.data.avatar,this.qqinfo.nickname=t.data.data.name}))):"正在拉取"===this.qqinfo.qq&&(this.qqinfo.qq="未绑定",this.qqinfo.photo="",this.qqinfo.nickname="未绑定")},async verifyStart(){if(this.get.bind)return void this.$confirm("确认解除绑定？此操作不可逆","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then((()=>{(0,n.sP)(this)}));if(!this.bind_qid&&!this.get.bind)return;const t=await(0,n.BU)(this,{qid:this.bind_qid});t&&(this.affirm=!0)},async verifyStatus(){}}},c=r,d=a(1656),o=(0,d.A)(c,i,e,!1,null,"7ae3eefb",null),l=o.exports}}]);
//# sourceMappingURL=398.9fe0a149.js.map