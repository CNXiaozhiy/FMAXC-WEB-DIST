"use strict";(self["webpackChunkFMAXC_WEB_VUE2"]=self["webpackChunkFMAXC_WEB_VUE2"]||[]).push([[845],{498:function(e,t,s){s.d(t,{A:function(){return u}});var r=function(){var e=this,t=e._self._c;return t("div",[t("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"vBtn btn w-100",class:e.vBtnClass,attrs:{disabled:e.disabled},on:{click:e.startVerify}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24"}},[t("g",{attrs:{fill:"none",fillRule:"evenodd"}},[t("path",{attrs:{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}}),t("path",{attrs:{fill:"currentColor",d:"M11.298 2.195a2 2 0 0 1 1.232-.055l.172.055l7 2.625a2 2 0 0 1 1.291 1.708l.007.165v5.363a9 9 0 0 1-4.709 7.911l-.266.139l-3.354 1.677a1.5 1.5 0 0 1-1.198.062l-.144-.062l-3.354-1.677a9 9 0 0 1-4.97-7.75l-.005-.3V6.693a2 2 0 0 1 1.145-1.808l.153-.065zm4.135 6.434l-4.598 4.598l-1.768-1.768a1 1 0 0 0-1.414 1.415l2.404 2.404a1.1 1.1 0 0 0 1.556 0l5.234-5.235a1 1 0 1 0-1.414-1.414"}})])]),t("span",[e._v(e._s(e.title))])])])},a=[],l={name:"Vaptcha",props:["passCallback"],data(){return{vaptchaObj:{},vBtnClass:"btn-warning",title:"点我进行人机验证",disabled:!1}},mounted(){vaptcha({vid:"669bb37bd3784602950e9629",mode:"invisible",scene:0,area:"auto"}).then((e=>{this.vaptchaObj=e,e.listen("pass",(()=>{const t=e.getServerToken(),s={server:t.server,token:t.token};this.passCallback(s),this.vBtnClass="btn-success",this.title="人机验证通过！",this.disabled=!0}))}))},methods:{startVerify(){if("人机验证模块异常"!==this.title){this.disabled=!0;try{this.vaptchaObj.validate(),setTimeout((()=>{this.disabled=!1}),2e3)}catch(e){this.title="人机验证模块异常",this.vBtnClass="btn-danger"}}},resetVerify(){this.vaptchaObj.reset(),this.vBtnClass="btn-primary",this.title="点我进行人机验证"}}},i=l,n=s(1656),o=(0,n.A)(i,r,a,!1,null,"31911b33",null),u=o.exports},4845:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"registerPage"}},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("form",{staticClass:"registerForm p-2 p-sm-5",on:{submit:function(e){e.preventDefault()}}},[t("h2",{staticClass:"title"},[e._v("FmaxCloud")]),t("span",{staticClass:"subtitle"},[e._v("注册一个Fmc账号")]),t("el-form-item",{staticClass:"el-form-full",attrs:{label:"账号",prop:"username"}},[t("el-input",{staticClass:"input w-100",model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),t("el-form-item",{staticClass:"el-form-full",attrs:{label:"密码",prop:"password"}},[t("el-input",{staticClass:"input w-100",attrs:{"show-password":""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),t("el-form-item",{staticClass:"el-form-full",attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{staticClass:"input w-100",attrs:{"show-password":""},model:{value:e.ruleForm.confirmPassword,callback:function(t){e.$set(e.ruleForm,"confirmPassword",t)},expression:"ruleForm.confirmPassword"}})],1),t("el-form-item",{staticClass:"el-form-full",attrs:{prop:"vaptcha"}},[t("Vaptcha",{ref:"vaptchaVc",staticStyle:{"line-height":"normal"},attrs:{passCallback:e.vpass}})],1),t("el-form-item",{attrs:{prop:"termsType"}},[t("el-checkbox",{staticClass:"terms",attrs:{name:"type"},model:{value:e.ruleForm.termsType,callback:function(t){e.$set(e.ruleForm,"termsType",t)},expression:"ruleForm.termsType"}},[e._v("我已阅读并接受 "),t("a",{attrs:{href:"#"}},[e._v("服务条款")])])],1),t("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"btn btn-primary",attrs:{disabled:e.regBtnDisabled},on:{click:function(t){return e.submitForm("ruleForm")}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.regBtnDisabled,expression:"regBtnDisabled"}],staticClass:"spinner-border mini text-light me-2",attrs:{role:"status"}}),e._v("立即注册")]),t("hr"),t("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"btn btn-info btn-relief",on:{click:function(t){return e.qtReg("qq")}}},[e._v("使用QQ登录快速登录/注册")]),t("button",{directives:[{name:"wave",rawName:"v-wave"}],staticClass:"btn btn-success btn-relief",on:{click:function(t){return e.qtReg("wx")}}},[e._v("使用微信快速登录/注册")]),t("span",{staticClass:"regspan"},[e._v("已有账号？ "),t("router-link",{attrs:{to:"/auth/login"}},[e._v("前往登录")]),e._v(" 或 "),t("router-link",{attrs:{to:"/auth/forgot"}},[e._v("忘记密码？")])],1),t("span",{staticClass:"retrieve"},[e._v("如果您找不回账号,可以"),t("a",{attrs:{href:"#"}},[e._v("咨询客服")]),e._v("协助找回")])],1)])],1)},a=[],l=s(7363),i=(s(2522),s(498)),n={name:"Regiser",data(){var e=(e,t,s)=>{""===t?s(new Error("请再次输入密码")):t!==this.ruleForm.password?s(new Error("两次输入密码不一致!")):s()},t=(e,t,s)=>{t?s():s(new Error("请勾选服务协议"))};return{fullscreenLoading:!1,ruleForm:{username:"",password:"",vaptcha:"",confirmPassword:"",termsType:!1},vaptcha:{server:""},regBtnDisabled:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPassword:[{required:!0,validator:e,trigger:"blur"}],vaptcha:[{required:!0,message:"请先完成人机验证",trigger:"blur"}],termsType:[{validator:t,message:"请勾选服务协议",trigger:"change"}]}}},components:{Vaptcha:i.A},mounted(){(async()=>{1===await this.$store.state.userData.pullData(this,!1,!0)&&this.$router.replace({name:"rDashboardMain"})})()},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.UserRegister()}))},qtReg(){},vpass(e){this.vaptcha.server=e.server,this.ruleForm.vaptcha=e.token},UserRegister(){if(this.regBtnDisabled=!0,!this.ruleForm.username||!this.ruleForm.password)return this.$message({message:"请填写完整信息",type:"warning"}),void setTimeout((()=>{this.regBtnDisabled=!1}),3e3);if(!this.vaptcha.server||!this.ruleForm.vaptcha)return this.$message({message:"请先完成人机验证",type:"warning"}),void setTimeout((()=>{this.regBtnDisabled=!1}),3e3);const e={uname:this.ruleForm.username,nickname:this.ruleForm.username,pwd:this.ruleForm.password,verify:{sr:this.vaptcha.server,tk:this.ruleForm.vaptcha}};(async()=>{await(0,l.Dd)(this,e)||(this.refreshVaptcha(),this.regBtnDisabled=!1)})()},refreshVaptcha(){this.$refs.vaptchaVc.resetVerify(),this.vaptcha.server="",this.ruleForm.vaptcha=""}}},o=n,u=s(1656),m=(0,u.A)(o,r,a,!1,null,"57eb5000",null),c=m.exports}}]);
//# sourceMappingURL=845.83bcc9f2.js.map