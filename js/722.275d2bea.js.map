{"version":3,"file":"js/722.275d2bea.js","mappings":"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","sources":["webpack://FMAXC-WEB-VUE2/./src/components/Vaptcha.vue","webpack://FMAXC-WEB-VUE2/src/components/Vaptcha.vue","webpack://FMAXC-WEB-VUE2/./src/components/Vaptcha.vue?18e0","webpack://FMAXC-WEB-VUE2/./src/components/Vaptcha.vue?5730","webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Login.vue","webpack://FMAXC-WEB-VUE2/src/pages/Auth/Login.vue","webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Login.vue?d3a2","webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Login.vue?7519"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"vBtn btn w-100\",class:_vm.vBtnClass,attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.startVerify}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"1.5em\",\"height\":\"1.5em\",\"viewBox\":\"0 0 24 24\"}},[_c('g',{attrs:{\"fill\":\"none\",\"fillRule\":\"evenodd\"}},[_c('path',{attrs:{\"d\":\"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z\"}}),_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M11.298 2.195a2 2 0 0 1 1.232-.055l.172.055l7 2.625a2 2 0 0 1 1.291 1.708l.007.165v5.363a9 9 0 0 1-4.709 7.911l-.266.139l-3.354 1.677a1.5 1.5 0 0 1-1.198.062l-.144-.062l-3.354-1.677a9 9 0 0 1-4.97-7.75l-.005-.3V6.693a2 2 0 0 1 1.145-1.808l.153-.065zm4.135 6.434l-4.598 4.598l-1.768-1.768a1 1 0 0 0-1.414 1.415l2.404 2.404a1.1 1.1 0 0 0 1.556 0l5.234-5.235a1 1 0 1 0-1.414-1.414\"}})])]),_c('span',[_vm._v(_vm._s(_vm.title))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n    <button v-wave @click=\"startVerify\" class=\"vBtn btn w-100\" :class=\"vBtnClass\" :disabled=\"disabled\">\n        <!-- <svg t=\"1722002073628\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1471\" width=\"200\" height=\"200\"><path d=\"M968.001605 217.23828c-1.088443-31.427238-27.273638-61.052915-58.175421-66.470109 0 0-120.104094-18.766265-187.500006-42.636954-84.172953-29.800828-167.457635-95.019854-167.457635-95.019853-26.010043-18.428472-65.756992-17.340029-89.965473 2.714853 0 0-58.888539 59.06369-168.896383 93.393444-93.218292 37.09465-169.296729 43.675353-181.33216 44.513579-1.176019 0.087576-2.339528 0.187663-3.503036 0.375326-29.913426 4.829185-55.247883 32.34053-55.78585 63.142225 0 0-4.1536 161.314811 1.088443 302.937556 1.989224 253.44466 304.201151 503.811653 457.0211 503.811653 150.292759 0 410.243057-174.50124 451.065939-500.196019 10.121272-193.104864 3.440482-306.515657 3.440482-306.515657zM831.258089 383.244658v-1.451258L478.827638 711.65429a47.941551 47.941551 0 0 1-58.525724 5.604858l-9.207981-7.769234L216.350149 508.841012a47.916529 47.916529 0 0 1 2.890005-68.096519 48.792288 48.792288 0 0 1 68.646996 2.890005l160.051216 166.681963L765.325946 312.420775a48.792288 48.792288 0 0 1 68.646996 2.890005 47.703845 47.703845 0 0 1-2.714853 67.933878z m0 0\" p-id=\"1472\"></path></svg> -->\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 24 24\"><g fill=\"none\" fillRule=\"evenodd\"><path d=\"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z\"/><path fill=\"currentColor\" d=\"M11.298 2.195a2 2 0 0 1 1.232-.055l.172.055l7 2.625a2 2 0 0 1 1.291 1.708l.007.165v5.363a9 9 0 0 1-4.709 7.911l-.266.139l-3.354 1.677a1.5 1.5 0 0 1-1.198.062l-.144-.062l-3.354-1.677a9 9 0 0 1-4.97-7.75l-.005-.3V6.693a2 2 0 0 1 1.145-1.808l.153-.065zm4.135 6.434l-4.598 4.598l-1.768-1.768a1 1 0 0 0-1.414 1.415l2.404 2.404a1.1 1.1 0 0 0 1.556 0l5.234-5.235a1 1 0 1 0-1.414-1.414\"/></g></svg>\n        <span>{{ title }}</span>\n    </button>\n</div>\n</template>\n\n<script>\nexport default {\n    name: 'Vaptcha',\n    props: ['passCallback'],\n    data() {\n        return {\n            vaptchaObj: {},\n            vBtnClass: 'btn-warning',\n            title: '点我进行人机验证',\n            \n            disabled: false,\n        }\n    },\n    mounted() {\n        vaptcha({\n            vid: '669bb37bd3784602950e9629',\n            mode: 'invisible',\n            scene: 0,\n            area: 'auto',\n        })\n        .then((obj) => {\n            this.vaptchaObj = obj;\n            obj.listen('pass',()=>{\n                const serverToken = obj.getServerToken();\n                const data = {\n                    server: serverToken.server,\n                    token: serverToken.token,\n                };\n                this.passCallback(data);\n                this.vBtnClass = 'btn-success';\n                this.title = '人机验证通过！';\n                this.disabled = true;\n            })\n        })\n    },\n    methods:{\n        startVerify(){\n            if (this.title === '人机验证模块异常') return;\n            this.disabled = true;\n            try {\n                this.vaptchaObj.validate();\n                setTimeout(()=>{\n                    this.disabled = false;\n                },5000)\n            } catch(e) {\n                this.title = '人机验证模块异常';\n                this.vBtnClass = 'btn-danger'\n            }\n        },\n        resetVerify(){\n            this.vaptchaObj.reset()\n            this.vBtnClass = 'btn-warning'\n            this.title = '点我进行人机验证'\n            this.disabled = false\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.vBtn {\n    display: flex;\n    // background: rgba(255, 226, 226,0.6);\n    padding: 10px;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border-radius: 5px;\n    color: #fff;\n    transition: all 0.15s linear;\n    span{\n        font-size: 15px;\n        margin-left: 10px;\n    }\n    .icon {\n        height: 20px;\n        width: 20px;\n    }\n}\n// .vBtn:hover {\n//     // box-shadow: 0 0 8px rgba(0,0,0,0.3);\n//     // box-shadow: 0 8px 25px -8px rgba(255, 226, 226,1);\n// }\n// .vBtnOk {\n//     // background: rgba(255, 199, 199,0.6);\n//     background: rgba(168, 230, 207, 0.6);\n// }\n// .vBtnErr {\n//     background: rgba(246, 114, 128, 0.6);\n//     cursor: not-allowed;\n// }\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Vaptcha.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Vaptcha.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Vaptcha.vue?vue&type=template&id=e30e6c24&scoped=true\"\nimport script from \"./Vaptcha.vue?vue&type=script&lang=js\"\nexport * from \"./Vaptcha.vue?vue&type=script&lang=js\"\nimport style0 from \"./Vaptcha.vue?vue&type=style&index=0&id=e30e6c24&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e30e6c24\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"loginPage\"}},[_c('form',{ref:\"loginForm\",staticClass:\"loginForm p-2\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('h2',{staticClass:\"title\"},[_vm._v(\"FmaxCloud\")]),_c('span',{staticClass:\"subtitle\"},[_vm._v(\"欢迎登录Fmaxcloud官网\")]),_c('vs-input',{staticClass:\"mt-3\",attrs:{\"primary\":\"\",\"placeholder\":\"请输入您的用户名\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('i',{staticClass:\"bx bx-user\"})]},proxy:true},(!_vm.form.username)?{key:\"message-danger\",fn:function(){return [_vm._v(\" 必填项 \")]},proxy:true}:null],null,true),model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('vs-input',{staticClass:\"mt-3\",attrs:{\"type\":\"password\",\"visiblePassword\":_vm.hasVisiblePassword,\"icon-after\":\"\",\"danger\":\"\",\"placeholder\":\"请输入您的密码\"},on:{\"click-icon\":function($event){_vm.hasVisiblePassword = !_vm.hasVisiblePassword}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.hasVisiblePassword)?_c('i',{staticClass:\"bx bx-show-alt\"}):_c('i',{staticClass:\"bx bx-hide\"})]},proxy:true},(!_vm.form.password)?{key:\"message-danger\",fn:function(){return [_vm._v(\" 必填项 \")]},proxy:true}:null],null,true),model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('Vaptcha',{ref:\"vaptchaVc\",staticClass:\"mt-3\",staticStyle:{\"line-height\":\"normal\"},attrs:{\"passCallback\":_vm.vpass}}),(!_vm.form.vaptcha.token)?_c('div',{staticClass:\"vs-input__message vs-input__message--danger\"},[_vm._v(\" 请完成人机验证 \")]):_vm._e(),_c('vs-checkbox',{staticClass:\"mt-3\",model:{value:(_vm.form.remember),callback:function ($$v) {_vm.$set(_vm.form, \"remember\", $$v)},expression:\"form.remember\"}},[_vm._v(\" 7天内免登录 \")]),_c('vs-button',{staticClass:\"mt-3\",attrs:{\"size\":\"large\"},on:{\"click\":_vm.UserLogin}},[_vm._v(\" 登录 \")]),_c('hr'),_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"btn btn-info btn-relief\",on:{\"click\":function($event){return _vm.quickLogin('qq')}}},[_vm._v(\" 使用QQ登录快速登录/注册 \")]),_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"btn btn-success btn-relief mt-3\",on:{\"click\":function($event){return _vm.quickLogin('wx')}}},[_vm._v(\" 使用微信快速登录/注册 \")]),_c('span',{staticClass:\"regspan\"},[_vm._v(\"没有账号？ \"),_c('router-link',{attrs:{\"to\":\"/auth/register\"}},[_vm._v(\"前往注册\")]),_vm._v(\" 或 \"),_c('router-link',{attrs:{\"to\":\"/auth/forgot\"}},[_vm._v(\"忘记密码？\")])],1),_vm._m(0)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"retrieve\"},[_vm._v(\"如果您找不回账号,可以\"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"咨询客服\")]),_vm._v(\"协助找回\")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"loginPage\">\n    <form @submit.prevent=\"\" class=\"loginForm p-2\" ref=\"loginForm\">\n      <h2 class=\"title\">FmaxCloud</h2>\n      <span class=\"subtitle\">欢迎登录Fmaxcloud官网</span>\n      <vs-input\n        v-model.lazy=\"form.username\"\n        primary\n        placeholder=\"请输入您的用户名\"\n        class=\"mt-3\"\n      >\n        <template #icon>\n          <i class=\"bx bx-user\"></i>\n        </template>\n        <template v-if=\"!form.username\" #message-danger> 必填项 </template>\n      </vs-input>\n      <vs-input\n        v-model.lazy=\"form.password\"\n        type=\"password\"\n        :visiblePassword=\"hasVisiblePassword\"\n        @click-icon=\"hasVisiblePassword = !hasVisiblePassword\"\n        icon-after\n        danger\n        placeholder=\"请输入您的密码\"\n        class=\"mt-3\"\n      >\n        <template #icon>\n          <!-- <i class=\"bx bx-lock-open-alt\"></i> -->\n          <i v-if=\"!hasVisiblePassword\" class=\"bx bx-show-alt\"></i>\n          <i v-else class=\"bx bx-hide\"></i>\n        </template>\n        <template v-if=\"!form.password\" #message-danger> 必填项 </template>\n      </vs-input>\n\n      <!-- 人机验证模块 -->\n      <Vaptcha\n        :passCallback=\"vpass\"\n        ref=\"vaptchaVc\"\n        style=\"line-height: normal\"\n        class=\"mt-3\"\n      />\n\n      <div class=\"vs-input__message vs-input__message--danger\" v-if=\"!form.vaptcha.token\"> 请完成人机验证 </div>\n\n      <vs-checkbox v-model=\"form.remember\" class=\"mt-3\">\n        7天内免登录\n      </vs-checkbox>\n\n      <vs-button @click=\"UserLogin\" size=\"large\" class=\"mt-3\"> 登录 </vs-button>\n      <hr />\n      <button v-wave class=\"btn btn-info btn-relief\" @click=\"quickLogin('qq')\">\n        使用QQ登录快速登录/注册\n      </button>\n      <button\n        v-wave\n        class=\"btn btn-success btn-relief mt-3\"\n        @click=\"quickLogin('wx')\"\n      >\n        使用微信快速登录/注册\n      </button>\n      <span class=\"regspan\"\n        >没有账号？ <router-link to=\"/auth/register\">前往注册</router-link> 或\n        <router-link to=\"/auth/forgot\">忘记密码？</router-link></span\n      >\n      <span class=\"retrieve\"\n        >如果您找不回账号,可以<a href=\"#\">咨询客服</a>协助找回</span\n      >\n    </form>\n  </div>\n</template>\n\n<script>\nimport { login } from \"../../scripts/auth/\";\nimport _ from \"lodash\";\nimport Vaptcha from \"../../components/Vaptcha.vue\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n        remember: false,\n        vaptcha: {\n          server: \"\",\n          token: \"\",\n        },\n      },\n      hasVisiblePassword: false,\n    };\n  },\n  components: {\n    Vaptcha,\n  },\n  methods: {\n    quickLogin() {\n      // this.$toastx({\n      //     title: '暂不支持',\n      //     type: 'warning'\n      // })\n    },\n    vpass(data) {\n      this.form.vaptcha.server = data.server;\n      this.form.vaptcha.token = data.token;\n    },\n    UserLogin() {\n      if (!this.form.username || !this.form.password) {\n        this.$toastx({\n          title: \"请填写完整信息\",\n          type: \"warning\",\n        });\n        return;\n      }\n      if (!this.form.vaptcha.server || !this.form.vaptcha.token) {\n        this.$toastx({\n          title: \"请先完成人机验证\",\n          type: \"warning\",\n        });\n        return;\n      }\n\n      const loading = this.$vs.loading({\n        target: this.$refs.loginForm,\n        text: \"登录中...\",\n      });\n\n      const original = {\n        uname: this.form.username,\n        pwd: this.form.password,\n        remember: this.form.remember,\n        verify: {\n          sr: this.form.vaptcha.server,\n          tk: this.form.vaptcha.token,\n        },\n      };\n\n      login(original).then((resp) => {\n        console.log(resp);\n\n        if (!resp) {\n          this.refreshVaptcha();\n          loading.close();\n        }\n      });\n    },\n    refreshVaptcha() {\n      this.$refs.vaptchaVc.resetVerify();\n      this.form.vaptcha.server = \"\";\n      this.form.vaptcha.token = \"\";\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.btn {\n  padding: 10px;\n}\n.loginForm span {\n  font-size: 14px;\n}\n.loginForm {\n  display: flex;\n  flex-direction: column;\n  // padding: 50px;\n\n  .title {\n    text-align: center;\n    margin-bottom: 20px;\n  }\n  .subtitle {\n    text-align: center;\n    font-size: 18px;\n    margin-bottom: 20px;\n  }\n  .regspan {\n    margin-top: 40px;\n    text-align: center;\n  }\n  .retrieve {\n    text-align: center;\n    color: #6e6b7b;\n  }\n}\n.loginForm .btn:first-of-type {\n  margin-top: 20px;\n  margin-bottom: 0px;\n}\n\n@media screen and (min-width: 576px) {\n  #loginPage {\n    min-width: 450px !important;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=35b11c2b&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=35b11c2b&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35b11c2b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","staticClass","class","vBtnClass","attrs","disabled","on","startVerify","_v","_s","title","staticRenderFns","props","data","vaptchaObj","mounted","vaptcha","vid","mode","scene","area","then","obj","listen","serverToken","getServerToken","server","token","passCallback","methods","validate","setTimeout","e","resetVerify","reset","component","ref","$event","preventDefault","scopedSlots","_u","key","fn","proxy","form","username","model","value","callback","$$v","$set","expression","hasVisiblePassword","password","staticStyle","vpass","_e","remember","UserLogin","quickLogin","_m","components","Vaptcha","$toastx","type","loading","$vs","target","$refs","loginForm","text","original","uname","pwd","verify","sr","tk","login","resp","console","log","refreshVaptcha","close","vaptchaVc"],"sourceRoot":""}