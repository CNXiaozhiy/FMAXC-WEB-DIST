{"version":3,"file":"js/845.83bcc9f2.js","mappings":"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","sources":["webpack://FMAXC-WEB-VUE2/./src/components/Vaptcha.vue","webpack://FMAXC-WEB-VUE2/src/components/Vaptcha.vue","webpack://FMAXC-WEB-VUE2/./src/components/Vaptcha.vue?18e0","webpack://FMAXC-WEB-VUE2/./src/components/Vaptcha.vue?5730","webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Register.vue","webpack://FMAXC-WEB-VUE2/src/pages/Auth/Register.vue","webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Register.vue?2a63","webpack://FMAXC-WEB-VUE2/./src/pages/Auth/Register.vue?d153"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"vBtn btn w-100\",class:_vm.vBtnClass,attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.startVerify}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"1.5em\",\"height\":\"1.5em\",\"viewBox\":\"0 0 24 24\"}},[_c('g',{attrs:{\"fill\":\"none\",\"fillRule\":\"evenodd\"}},[_c('path',{attrs:{\"d\":\"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z\"}}),_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M11.298 2.195a2 2 0 0 1 1.232-.055l.172.055l7 2.625a2 2 0 0 1 1.291 1.708l.007.165v5.363a9 9 0 0 1-4.709 7.911l-.266.139l-3.354 1.677a1.5 1.5 0 0 1-1.198.062l-.144-.062l-3.354-1.677a9 9 0 0 1-4.97-7.75l-.005-.3V6.693a2 2 0 0 1 1.145-1.808l.153-.065zm4.135 6.434l-4.598 4.598l-1.768-1.768a1 1 0 0 0-1.414 1.415l2.404 2.404a1.1 1.1 0 0 0 1.556 0l5.234-5.235a1 1 0 1 0-1.414-1.414\"}})])]),_c('span',[_vm._v(_vm._s(_vm.title))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n    <button v-wave @click=\"startVerify\" class=\"vBtn btn w-100\" :class=\"vBtnClass\" :disabled=\"disabled\">\n        <!-- <svg t=\"1722002073628\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1471\" width=\"200\" height=\"200\"><path d=\"M968.001605 217.23828c-1.088443-31.427238-27.273638-61.052915-58.175421-66.470109 0 0-120.104094-18.766265-187.500006-42.636954-84.172953-29.800828-167.457635-95.019854-167.457635-95.019853-26.010043-18.428472-65.756992-17.340029-89.965473 2.714853 0 0-58.888539 59.06369-168.896383 93.393444-93.218292 37.09465-169.296729 43.675353-181.33216 44.513579-1.176019 0.087576-2.339528 0.187663-3.503036 0.375326-29.913426 4.829185-55.247883 32.34053-55.78585 63.142225 0 0-4.1536 161.314811 1.088443 302.937556 1.989224 253.44466 304.201151 503.811653 457.0211 503.811653 150.292759 0 410.243057-174.50124 451.065939-500.196019 10.121272-193.104864 3.440482-306.515657 3.440482-306.515657zM831.258089 383.244658v-1.451258L478.827638 711.65429a47.941551 47.941551 0 0 1-58.525724 5.604858l-9.207981-7.769234L216.350149 508.841012a47.916529 47.916529 0 0 1 2.890005-68.096519 48.792288 48.792288 0 0 1 68.646996 2.890005l160.051216 166.681963L765.325946 312.420775a48.792288 48.792288 0 0 1 68.646996 2.890005 47.703845 47.703845 0 0 1-2.714853 67.933878z m0 0\" p-id=\"1472\"></path></svg> -->\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 24 24\"><g fill=\"none\" fillRule=\"evenodd\"><path d=\"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z\"/><path fill=\"currentColor\" d=\"M11.298 2.195a2 2 0 0 1 1.232-.055l.172.055l7 2.625a2 2 0 0 1 1.291 1.708l.007.165v5.363a9 9 0 0 1-4.709 7.911l-.266.139l-3.354 1.677a1.5 1.5 0 0 1-1.198.062l-.144-.062l-3.354-1.677a9 9 0 0 1-4.97-7.75l-.005-.3V6.693a2 2 0 0 1 1.145-1.808l.153-.065zm4.135 6.434l-4.598 4.598l-1.768-1.768a1 1 0 0 0-1.414 1.415l2.404 2.404a1.1 1.1 0 0 0 1.556 0l5.234-5.235a1 1 0 1 0-1.414-1.414\"/></g></svg>\n        <span>{{ title }}</span>\n    </button>\n</div>\n</template>\n\n<script>\nexport default {\n    name: 'Vaptcha',\n    props: ['passCallback'],\n    data() {\n        return {\n            vaptchaObj: {},\n            vBtnClass: 'btn-warning',\n            title: '点我进行人机验证',\n            \n            disabled: false,\n        }\n    },\n    mounted() {\n        vaptcha({\n            vid: '669bb37bd3784602950e9629',\n            mode: 'invisible',\n            scene: 0,\n            area: 'auto',\n        })\n        .then((obj) => {\n            this.vaptchaObj = obj;\n            obj.listen('pass',()=>{\n                const serverToken = obj.getServerToken();\n                const data = {\n                    server: serverToken.server,\n                    token: serverToken.token,\n                };\n                this.passCallback(data);\n                this.vBtnClass = 'btn-success';\n                this.title = '人机验证通过！';\n                this.disabled = true;\n            })\n        })\n    },\n    methods:{\n        startVerify(){\n            if (this.title === '人机验证模块异常') return;\n            this.disabled = true;\n            try {\n                this.vaptchaObj.validate();\n                setTimeout(()=>{\n                    this.disabled = false;\n                },2000)\n            } catch(e) {\n                this.title = '人机验证模块异常';\n                this.vBtnClass = 'btn-danger'\n            }\n        },\n        resetVerify(){\n            this.vaptchaObj.reset();\n            this.vBtnClass = 'btn-primary';\n            this.title = '点我进行人机验证'\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.vBtn {\n    display: flex;\n    // background: rgba(255, 226, 226,0.6);\n    padding: 10px;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border-radius: 5px;\n    color: #fff;\n    transition: all 0.15s linear;\n    span{\n        font-size: 15px;\n        margin-left: 10px;\n    }\n    .icon {\n        height: 20px;\n        width: 20px;\n    }\n}\n// .vBtn:hover {\n//     // box-shadow: 0 0 8px rgba(0,0,0,0.3);\n//     // box-shadow: 0 8px 25px -8px rgba(255, 226, 226,1);\n// }\n// .vBtnOk {\n//     // background: rgba(255, 199, 199,0.6);\n//     background: rgba(168, 230, 207, 0.6);\n// }\n// .vBtnErr {\n//     background: rgba(246, 114, 128, 0.6);\n//     cursor: not-allowed;\n// }\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Vaptcha.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Vaptcha.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Vaptcha.vue?vue&type=template&id=31911b33&scoped=true\"\nimport script from \"./Vaptcha.vue?vue&type=script&lang=js\"\nexport * from \"./Vaptcha.vue?vue&type=script&lang=js\"\nimport style0 from \"./Vaptcha.vue?vue&type=style&index=0&id=31911b33&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31911b33\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"id\":\"registerPage\"}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('form',{staticClass:\"registerForm p-2 p-sm-5\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('h2',{staticClass:\"title\"},[_vm._v(\"FmaxCloud\")]),_c('span',{staticClass:\"subtitle\"},[_vm._v(\"注册一个Fmc账号\")]),_c('el-form-item',{staticClass:\"el-form-full\",attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-input',{staticClass:\"input w-100\",model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{staticClass:\"el-form-full\",attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{staticClass:\"input w-100\",attrs:{\"show-password\":\"\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',{staticClass:\"el-form-full\",attrs:{\"label\":\"确认密码\",\"prop\":\"confirmPassword\"}},[_c('el-input',{staticClass:\"input w-100\",attrs:{\"show-password\":\"\"},model:{value:(_vm.ruleForm.confirmPassword),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"confirmPassword\", $$v)},expression:\"ruleForm.confirmPassword\"}})],1),_c('el-form-item',{staticClass:\"el-form-full\",attrs:{\"prop\":\"vaptcha\"}},[_c('Vaptcha',{ref:\"vaptchaVc\",staticStyle:{\"line-height\":\"normal\"},attrs:{\"passCallback\":_vm.vpass}})],1),_c('el-form-item',{attrs:{\"prop\":\"termsType\"}},[_c('el-checkbox',{staticClass:\"terms\",attrs:{\"name\":\"type\"},model:{value:(_vm.ruleForm.termsType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"termsType\", $$v)},expression:\"ruleForm.termsType\"}},[_vm._v(\"我已阅读并接受 \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"服务条款\")])])],1),_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"btn btn-primary\",attrs:{\"disabled\":_vm.regBtnDisabled},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.regBtnDisabled),expression:\"regBtnDisabled\"}],staticClass:\"spinner-border mini text-light me-2\",attrs:{\"role\":\"status\"}}),_vm._v(\"立即注册\")]),_c('hr'),_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"btn btn-info btn-relief\",on:{\"click\":function($event){return _vm.qtReg('qq')}}},[_vm._v(\"使用QQ登录快速登录/注册\")]),_c('button',{directives:[{name:\"wave\",rawName:\"v-wave\"}],staticClass:\"btn btn-success btn-relief\",on:{\"click\":function($event){return _vm.qtReg('wx')}}},[_vm._v(\"使用微信快速登录/注册\")]),_c('span',{staticClass:\"regspan\"},[_vm._v(\"已有账号？ \"),_c('router-link',{attrs:{\"to\":\"/auth/login\"}},[_vm._v(\"前往登录\")]),_vm._v(\" 或 \"),_c('router-link',{attrs:{\"to\":\"/auth/forgot\"}},[_vm._v(\"忘记密码？\")])],1),_c('span',{staticClass:\"retrieve\"},[_vm._v(\"如果您找不回账号,可以\"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"咨询客服\")]),_vm._v(\"协助找回\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"registerPage\" v-loading.fullscreen.lock=\"fullscreenLoading\">\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\">\n            <form @submit.prevent=\"\" class=\"registerForm p-2 p-sm-5\">\n                <h2 class=\"title\">FmaxCloud</h2>\n                <span class=\"subtitle\">注册一个Fmc账号</span>\n                <el-form-item label=\"账号\" prop=\"username\" class=\"el-form-full\">\n                    <el-input class=\"input w-100\" v-model.lazy=\"ruleForm.username\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"密码\" prop=\"password\" class=\"el-form-full\">\n                    <el-input class=\"input w-100\" v-model.lazy=\"ruleForm.password\" show-password></el-input>\n                </el-form-item>\n                <el-form-item label=\"确认密码\" prop=\"confirmPassword\" class=\"el-form-full\">\n                    <el-input class=\"input w-100\" v-model.lazy=\"ruleForm.confirmPassword\" show-password></el-input>\n                </el-form-item>\n                <el-form-item prop=\"vaptcha\" class=\"el-form-full\">\n                    <Vaptcha :passCallback=\"vpass\" ref=\"vaptchaVc\" style=\"line-height: normal\"/>\n                </el-form-item>\n                <el-form-item prop=\"termsType\">\n                    <el-checkbox class=\"terms\" name=\"type\" v-model=\"ruleForm.termsType\">我已阅读并接受 <a href=\"#\">服务条款</a></el-checkbox>\n                </el-form-item>\n                \n                <button v-wave class=\"btn btn-primary\" @click=\"submitForm('ruleForm')\" :disabled=\"regBtnDisabled\">\n                    <div class=\"spinner-border mini text-light me-2\" role=\"status\" v-show=\"regBtnDisabled\"></div>立即注册</button>\n                <hr>\n                <button v-wave class=\"btn btn-info btn-relief\" @click=\"qtReg('qq')\" >使用QQ登录快速登录/注册</button>\n                <button v-wave class=\"btn btn-success btn-relief\" @click=\"qtReg('wx')\" >使用微信快速登录/注册</button>\n                <span class=\"regspan\">已有账号？ <router-link to=\"/auth/login\">前往登录</router-link> 或 <router-link to=\"/auth/forgot\">忘记密码？</router-link></span>\n                <span class=\"retrieve\">如果您找不回账号,可以<a href=\"#\">咨询客服</a>协助找回</span>\n            </form>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport { reg } from '../../scripts/auth'\nimport _ from 'lodash';\nimport Vaptcha from \"../../components/Vaptcha.vue\";\n\nexport default {\n    name: 'Regiser',\n    data(){\n        var validatePass2 = (rule, value, callback) => {\n            if (value === '') {\n                callback(new Error('请再次输入密码'));\n            } else if (value !== this.ruleForm.password) {\n                callback(new Error('两次输入密码不一致!'));\n            } else {\n                callback();\n            }\n        };\n        var termsCheck = (rule, value, callback) => {\n            if (!value){\n                callback(new Error('请勾选服务协议'));\n            } else {\n                callback();\n            }\n        }\n        return {\n            fullscreenLoading: false,\n            ruleForm: {\n                username: '',\n                password: '',\n                vaptcha: '',\n\n                confirmPassword: '',\n                termsType: false\n            },\n            vaptcha: {\n                server: ''\n                // token: ''\n            },\n            regBtnDisabled: false,\n            rules: {\n                username: [\n                { required: true, message: '请输入用户名', trigger: 'blur' }\n                ],\n                password: [\n                { required: true, message: '请输入密码', trigger: 'blur' }\n                ],\n                confirmPassword: [\n                { required: true, validator: validatePass2, trigger: 'blur' }\n                ],\n                vaptcha: [\n                { required: true, message: '请先完成人机验证', trigger: 'blur' }\n                ],\n                termsType: [\n                { validator: termsCheck, message: '请勾选服务协议', trigger: 'change' }\n                ]\n            }\n        }\n    },\n    components: {\n        Vaptcha\n    },\n    mounted(){\n        (async ()=> {\n            if (await this.$store.state.userData.pullData(this,false,true) === 1) this.$router.replace({name: 'rDashboardMain'});\n        })();\n    },\n    methods: {\n        submitForm(formName){\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                this.UserRegister();\n                } else {\n                return false;\n                }\n            });\n        },\n        qtReg(){\n            // this.$toastx({\n            //     title: '暂不支持',\n            //     type: 'warning'\n            // })\n        },\n        vpass(data){\n        this.vaptcha.server = data.server;\n        // this.vaptcha.token = data.token;\n        this.ruleForm.vaptcha = data.token;\n        },\n        UserRegister(){\n            this.regBtnDisabled = true;\n            if (!this.ruleForm.username || !this.ruleForm.password ) {this.$message({\n                message: '请填写完整信息',\n                type: 'warning'\n            });setTimeout(()=>{this.regBtnDisabled = false;},3000);return;};\n            if (!this.vaptcha.server || !this.ruleForm.vaptcha ) {this.$message({\n                message: '请先完成人机验证',\n                type: 'warning'\n            });setTimeout(()=>{this.regBtnDisabled = false;},3000);return;};\n            const original = {\n                uname: this.ruleForm.username,\n                nickname: this.ruleForm.username,\n                pwd: this.ruleForm.password,\n                verify: {\n                sr:this.vaptcha.server,\n                tk:this.ruleForm.vaptcha\n                },\n                // sign: CryptoJS.SHA256(this.ruleForm.username + '@awa' + this.ruleForm.password + 'qwq.' + this.vaptcha.server + '@xzy.' + this.ruleForm.vaptcha + '@maoya..').toString(CryptoJS.enc.Hex)\n            };\n            (async ()=>{\n                if (!await reg(this,original)){\n                    this.refreshVaptcha();\n                    this.regBtnDisabled = false;\n                }\n            })();\n        },\n        refreshVaptcha(){\n            this.$refs.vaptchaVc.resetVerify();\n            this.vaptcha.server = '';\n            this.ruleForm.vaptcha = '';\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.btn {\n    padding: 10px;\n}\n.registerForm span {\n    font-size: 14px;\n}\n.registerForm {\n    display: flex;\n    flex-direction: column;\n\n    .input {\n        margin-left: 5px;\n        margin-bottom: 5px;\n        width: 300px;\n    }\n    .title {\n        text-align: center;\n        margin-bottom: 20px;\n    }\n    .subtitle {\n        text-align: center;\n        font-size: 18px;\n        margin-bottom: 20px;\n    }\n    .regspan {\n        margin-top: 40px;\n        text-align: center;\n    }\n    .retrieve {\n        text-align: center;\n        color: #6e6b7b;\n    }\n    .btn {\n        margin-bottom: 8px;\n    }\n    \n}\n.registerForm .btn:first-of-type {\n    margin-top: 20px;\n    margin-bottom: 0px;\n}\n\n@media screen and (min-width: 576px) {\n    .registerForm {\n        .input {\n            min-width: 300px !important;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=57eb5000&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=57eb5000&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57eb5000\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","staticClass","class","vBtnClass","attrs","disabled","on","startVerify","_v","_s","title","staticRenderFns","props","data","vaptchaObj","mounted","vaptcha","vid","mode","scene","area","then","obj","listen","serverToken","getServerToken","server","token","passCallback","methods","validate","setTimeout","e","resetVerify","reset","component","value","fullscreenLoading","expression","modifiers","ref","ruleForm","rules","$event","preventDefault","model","username","callback","$$v","$set","password","confirmPassword","staticStyle","vpass","termsType","regBtnDisabled","submitForm","qtReg","validatePass2","rule","Error","termsCheck","required","message","trigger","validator","components","Vaptcha","$store","state","userData","pullData","$router","replace","formName","$refs","valid","UserRegister","$message","type","original","uname","nickname","pwd","verify","sr","tk","reg","refreshVaptcha","vaptchaVc"],"sourceRoot":""}